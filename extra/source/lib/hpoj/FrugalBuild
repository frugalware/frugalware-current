# Last Modified: Sun, 21 Aug 2005 11:41:48 +0200
# Compiling Time: 0.18 SBU
# Maintainer: BMH1980 <bmh1980@frugalware.org>

pkgname=hpoj
pkgver=0.91
pkgrel=5
pkgdesc="HP OfficeJet Linux driver"
url="http://hpoj.sourceforge.net/"
license="GPL"
install=$pkgname.install
up2date="lynx -dump $url/download.shtml | grep -m 1 'hpoj.*.tgz' | cut -d - -f 2 | sed 's|.tgz||'"
source=(http://dl.sourceforge.net/sourceforge/$pkgname/$pkgname-$pkgver.tgz \
	rc.ptal $pkgname-$pkgver-gcc4.patch $pkgname-$pkgver-kernel26.patch \
	$pkgname-$pkgver-fw1.diff)
sha1sums=('36785cf1a925f569ed3983b8c068620e2c9b4456' \
          'e41135c1c7e4aceb38f1c5089b651ff9bdfc7824' \
          'cd2d37c2620e29b92b96fe779d10a6635c7f31b7' \
          'fe3328fd7a43ec83d76d0d7fb7be6c41027cddb3' \
          '9f8fee70fe30b1ddc5c3a241f3ed0bc08928a476')
groups=('lib-extra')
archs=('i686' 'x86_64')
depends=('qt' 'libusb')

build()
{
	Fmkdir /usr/lib/{cups/backend,sane}
	Fbuild
	Fln /usr/sbin/ptal-cups /usr/lib/cups/backend/ptal
	Fln /usr/lib/libsane-hpoj.so /usr/lib/sane/libsane-hpoj.so.1
	Fmv /usr/share/doc/$pkgname /usr/share/doc/$pkgname-$pkgver
	Frcd ptal
}

# vim: ft=sh

# optimalization OK
