# Last Modified: Fri, 19 Aug 2005 21:05:40 +0200
# Compiling Time: ~0.24 SBU
# Maintainer: BMH1980 <bmh1980@frugalware.org>

pkgname=rox-filer
pkgver=2.3
pkgrel=4
pkgdesc="ROX-Filer is a fast and powerful graphical file manager for the X Window System."
url="http://rox.sourceforge.net/"
license="GPL2"
install=$pkgname.install
up2date="lynx -dump $url/phpwiki/index.php/ROX-Filer | grep -o 'Current.*(' | grep -o '[0-9\.]\+'"
source=(http://dl.sourceforge.net/sourceforge/rox/rox-$pkgver.tgz \
	rox rox-desktop rox.desktop rox.png)
sha1sums=('44a2879d77bb101cbe29d6a372a45b7acfbc3d53' \
          'f43fb70b3c3d2d3025acc70485932dadb5c676c5' \
          '177241af2f30dabdaa9096a934c4218f3ff3ece9' \
          '7b1a6dafe83f50a8e8cb0fad4c0dad0a0fedda37' \
          'c01046f1ff0c520f1f5cf7e877300e9d22b0bcb2')
groups=('rox-extra')
archs=('i686')
depends=('pygtk' 'shared-mime-info>=0.16')

build()
{
	Fcd rox-$pkgver
	# Build and install the App dir for ROX-Filer
	ROX-Filer/AppRun --compile || return 1
	Fmkdir /usr/share/Apps/
	cp -r ROX-Filer $Fdestdir/usr/share/Apps/ROX-Filer || return 1
	Frm /usr/share/Apps/ROX-Filer/{build,src}
	# Installing documentation
	Fdocrel ROX-Filer/Help/*
	# Installing MIME file
	Ffilerel /usr/share/mime/packages/rox.xml
	Ffilerel /usr/man/man1/rox.1
	Fln /usr/man/man1/rox.1.gz /usr/man/man1/ROX-Filer.1.gz
	Fexerel Choices/MIME-types/* /etc/xdg/rox.sourceforge.net/MIME-types/
	# Installing extra files
	Fexe /usr/bin/rox
	Fexe /usr/bin/rox-desktop
	Fln /usr/bin/rox /usr/bin/rox-filer
	Ffile /usr/share/applications/rox.desktop
	Ffile /usr/share/pixmaps/rox.png
}

# optimalization ok - i686

# vim: ft=sh
