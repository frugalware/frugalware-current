# Compiling Time: 1.46 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=ddcci-driver-linux
pkgver=0.4.4
pkgrel=2
pkgdesc="A pair of Linux kernel drivers for DDC/CI monitors"
archs=('x86_64')
groups=('apps-extra')
makedepends=('clang' 'compiler-rt' 'lld' 'llvm')
url="https://gitlab.com/ddcci-driver-linux/ddcci-driver-linux"
source=("$url/-/archive/v${pkgver}/ddcci-driver-linux-v${pkgver}.tar.bz2")
Fpkgversep="-v"
up2date="Flasttar $url/-/tags"
sha1sums=('faca136563409bb3f7b8596284362c19061791c2')
Finclude kernel-module
_F_make_opts="	KVER=$_F_kernelmod_uname LIB_MODULES_PATH=$Fdestdir/usr/lib/modules INCLUDEDIR=$Fdestdir/usr/include"

build()
{
	export LLVM=1
	export LLVM_IAS=1
	Fbuild
	Fbuild_kernelmod_scriptlet
}

# optimization OK
