From fc487175cca44ce61e62827e1153930dae42a58c Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?J=C3=B6rg=20Thalheim?= <joerg@thalheim.io>
Date: Wed, 9 Aug 2023 07:52:09 +0200
Subject: [PATCH] fix build with system njson
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

When not using the vendored json library, there is no external project defined.

Signed-off-by: JÃ¶rg Thalheim <joerg@thalheim.io>
---
 userspace/sysdig/CMakeLists.txt | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/userspace/sysdig/CMakeLists.txt b/userspace/sysdig/CMakeLists.txt
index 38c33b5745..c7f38e0655 100644
--- a/userspace/sysdig/CMakeLists.txt
+++ b/userspace/sysdig/CMakeLists.txt
@@ -65,10 +65,9 @@ list(APPEND SOURCE_FILES_CSYSDIG
 add_executable(sysdig ${SOURCE_FILES})
 add_executable(csysdig ${SOURCE_FILES_CSYSDIG})
 
-add_dependencies(sysdig njson)
-add_dependencies(csysdig njson)
-
 if(USE_BUNDLED_DEPS)
+	add_dependencies(sysdig njson)
+	add_dependencies(csysdig njson)
 	add_dependencies(sysdig yaml-cpp)
 	add_dependencies(csysdig yaml-cpp)
 endif()
