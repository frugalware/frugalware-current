# Compiling Time: ~0.61 SBU
# Maintainer: voroskoi <voroskoi@frugalware.org>

pkgname=xemacs
pkgver=21.4.20
pkgrel=2
pkgdesc="XEmacs is a highly customizable open source text editor and application development system."
url="http://www.xemacs.org/"
makedepends=('libxaw' 'xbitmaps')
rodepends=('xemacs-base' 'xemacs-efs')
depends=('libtiff' 'db>=4.6.18' 'gpm' 'libjpeg' 'libpng')
conflicts=('emacs')
groups=('apps-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump $url/Releases/index.html |grep http.*Releases/[0-9] |sed -ne 's:.*s/\(.*\).h.*:\1:;2 p'"
source=(ftp://ftp.be.xemacs.org/xemacs/xemacs-21.4/$pkgname-$pkgver.tar.gz $pkgname.desktop)

build() {
	Fcd
	./configure --prefix=$Fprefix \
		--with-x11 \
		--with-ncurses \
		--with-xpm \
		--with-png \
		--with-jpeg \
		--with-tiff \
		--with-gpm \
		--with-ldap=no
	make || Fdie
	Fmakeinstall
	Ffile /usr/share/applications/$pkgname.desktop
}
sha1sums=('651e8c2fcf680c577375a6d623bb9228a56f3a0d' \
	  'bd8a0dfd732e41546abb27e467d9d52c7b9b9297')

# optimization OK
