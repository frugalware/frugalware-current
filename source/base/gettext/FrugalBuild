# Compiling Time: 1.35 SBU
# Maintainer: James Buren <ryuo@frugalware.org>
# Contributor: Miklos Vajna <vmiklos@frugalware.org>

pkgname=gettext
pkgver=0.20.1
pkgrel=1
pkgdesc="GNU internationalization library"
url="http://www.gnu.org/software/gettext"
depends=('libcroco' 'ncurses>=6.1-5' 'libunistring')
makedepends=('gettext' 'lib32-gettext')
groups=('base' 'chroot-core')
archs=('x86_64')
Fup2gnugz
source=(ftp://ftp.gnu.org/pub/gnu/$pkgname/$pkgname-$pkgver.tar.gz \
	format-security.patch \
	gettext-0.20-avoid_eautomake.patch )
sha1sums=('2aa01db95b064d7f5d1a46de34a2cc6a57eadf36' \
          '88f13033f00deffc0c5df874e1e8458211f6a75a' \
          'f9f0e41bd6b25a36a66f8008fe991151f9983887')
Fconfopts+="	--enable-csharp \
		--enable-nls \
		--with-xz \
		--without-included-gettext"
_F_cross32_simple_auto="yes"
_F_cross32_delete=('usr/share/gettext' 'usr/share/gettext-*')
Finclude cross32

options+=('ldgold' 'nolto')

build() {

	unset XZ_OPT
	export XZ_OPT=" -T 2"
	Fbuild_cross32
	## remove examples 8MB..
	Frm usr/share/doc/gettext-*/examples
}


# optimization OK
