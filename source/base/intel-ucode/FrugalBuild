# Compiling Time: 0 SBU
# Maintainer: James Buren <ryuo@frugalware.org>

pkgname=intel-ucode
pkgver=20180703
pkgrel=1
pkgdesc="Microcode for Intel processors."
url="http://downloadcenter.intel.com/SearchResult.aspx?lang=eng&keyword=%22microcode%22"
rodepends=('kernel')
groups=('base')
archs=('x86_64')
up2date="lynx -dump "https://downloadcenter.intel.com/download/27431/Linux-Processor-Microcode-Data-File?product=873" | grep -m1 'Version:' | sed 's/.*: \(.*\) .*(.*/\1/'"
source=(https://downloadmirror.intel.com/27945/eng/microcode-$pkgver.tgz  LICENSE)
sha1sums=('c59801e0e25ca8f630ae3b02b01bfaf491d1039d' \
          'dca9ab58cb81716a7bbecba9b4772a2b9f66e6e8')
options=('force')

build()
{
	Fcd intel-ucode
	Fdoc releasenote
	Fdoc LICENSE
	Fmkdir /lib/firmware/intel-ucode/
	Fexec rm -rfv list || Fdie
	Fexec mv -v * $Fdestdir/lib/firmware/intel-ucode/
}

# optimization OK
