diff -Naur iputils-s20190515/c503834519d21973323980850431101f90e663ef.patch iputils-s20190515.new/c503834519d21973323980850431101f90e663ef.patch
--- iputils-s20190515/c503834519d21973323980850431101f90e663ef.patch	1970-01-01 01:00:00.000000000 +0100
+++ iputils-s20190515.new/c503834519d21973323980850431101f90e663ef.patch	2019-05-16 15:42:32.414218594 +0200
@@ -0,0 +1,158 @@
+From c503834519d21973323980850431101f90e663ef Mon Sep 17 00:00:00 2001
+From: Jan Tojnar <jtojnar@gmail.com>
+Date: Mon, 25 Mar 2019 15:23:59 +0100
+Subject: [PATCH] doc: Use namespace correctly
+
+The files declared xmlns:db but did not use the db namespace at all.
+They did not define the default namespace at all, which coincidentally
+worked with Docbook 4 stylesheets, making them think the files were
+written in Docbook 4.
+
+I fixed the namespaces of the documents and switched to the correct
+Docbook 5 stylesheets.
+
+Signed-off-by: Jan Tojnar <jtojnar@gmail.com>
+---
+ doc/arping.xml      | 2 +-
+ doc/clockdiff.xml   | 2 +-
+ doc/custom-html.xsl | 2 +-
+ doc/custom-man.xsl  | 2 +-
+ doc/meson.build     | 2 +-
+ doc/ninfod.xml      | 2 +-
+ doc/ping.xml        | 2 +-
+ doc/rarpd.xml       | 2 +-
+ doc/rdisc.xml       | 2 +-
+ doc/tftpd.xml       | 2 +-
+ doc/tracepath.xml   | 2 +-
+ doc/traceroute6.xml | 2 +-
+ 12 files changed, 12 insertions(+), 12 deletions(-)
+
+diff --git a/doc/arping.xml b/doc/arping.xml
+index ed00af4..711718f 100644
+--- a/doc/arping.xml
++++ b/doc/arping.xml
+@@ -1,4 +1,4 @@
+-<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
++<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+ xml:id="man.arping">
+ 
+   <refentryinfo>
+diff --git a/doc/clockdiff.xml b/doc/clockdiff.xml
+index dea05c8..24d1943 100644
+--- a/doc/clockdiff.xml
++++ b/doc/clockdiff.xml
+@@ -1,4 +1,4 @@
+-<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
++<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+ xml:id="man.clockdiff">
+ 
+   <refentryinfo>
+diff --git a/doc/custom-html.xsl b/doc/custom-html.xsl
+index c391535..a952c5f 100644
+--- a/doc/custom-html.xsl
++++ b/doc/custom-html.xsl
+@@ -2,7 +2,7 @@
+ 
+ <xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
+ 
+-<xsl:import href="http://docbook.sourceforge.net/release/xsl/current/html/docbook.xsl"/>
++<xsl:import href="http://docbook.sourceforge.net/release/xsl-ns/current/html/docbook.xsl"/>
+ <!--
+   - The docbook stylesheet injects empty anchor tags into generated HTML, identified by an auto-generated ID.
+   - Ask the docbook stylesheet to generate reproducible output when generating (these) ID values.
+diff --git a/doc/custom-man.xsl b/doc/custom-man.xsl
+index 058f495..ba9697d 100644
+--- a/doc/custom-man.xsl
++++ b/doc/custom-man.xsl
+@@ -5,7 +5,7 @@
+                 extension-element-prefixes="exsl"
+                 version="1.0">
+ 
+-<xsl:import href="http://docbook.sourceforge.net/release/xsl/current/manpages/docbook.xsl"/>
++<xsl:import href="http://docbook.sourceforge.net/release/xsl-ns/current/manpages/docbook.xsl"/>
+ 
+ <xsl:template name="top.comment" />
+ 
+diff --git a/doc/meson.build b/doc/meson.build
+index 50dcb4e..5052857 100644
+--- a/doc/meson.build
++++ b/doc/meson.build
+@@ -49,7 +49,7 @@ xsltproc_args = [
+ 
+ if xsltproc.found()
+ 	testrun = run_command([xsltproc, '--nonet',
+-		'http://docbook.sourceforge.net/release/xsl/current/manpages/docbook.xsl'])
++		'http://docbook.sourceforge.net/release/xsl-ns/current/manpages/docbook.xsl'])
+ 	xsltproc_works = testrun.returncode() == 0
+ else
+ 	warning('No docbook stylesheet found for generating man pages')
+diff --git a/doc/ninfod.xml b/doc/ninfod.xml
+index 1177a21..081d470 100644
+--- a/doc/ninfod.xml
++++ b/doc/ninfod.xml
+@@ -1,4 +1,4 @@
+-<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
++<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+ xml:id="man.ninfod">
+ 
+   <refentryinfo>
+diff --git a/doc/ping.xml b/doc/ping.xml
+index 691887a..b5cea9c 100644
+--- a/doc/ping.xml
++++ b/doc/ping.xml
+@@ -1,4 +1,4 @@
+-<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
++<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+ xml:id="man.ping">
+ 
+   <refentryinfo>
+diff --git a/doc/rarpd.xml b/doc/rarpd.xml
+index 0785d56..65d6367 100644
+--- a/doc/rarpd.xml
++++ b/doc/rarpd.xml
+@@ -1,4 +1,4 @@
+-<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
++<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+ xml:id="man.rarpd">
+ 
+   <refentryinfo>
+diff --git a/doc/rdisc.xml b/doc/rdisc.xml
+index 8aa8898..ab1c673 100644
+--- a/doc/rdisc.xml
++++ b/doc/rdisc.xml
+@@ -1,4 +1,4 @@
+-<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
++<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+ xml:id="man.rdisc">
+ 
+   <refentryinfo>
+diff --git a/doc/tftpd.xml b/doc/tftpd.xml
+index 8f51c3d..4a1b948 100644
+--- a/doc/tftpd.xml
++++ b/doc/tftpd.xml
+@@ -1,4 +1,4 @@
+-<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
++<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+ xml:id="man.tftpd">
+ 
+   <refentryinfo>
+diff --git a/doc/tracepath.xml b/doc/tracepath.xml
+index d0a9a12..d1bdcd8 100644
+--- a/doc/tracepath.xml
++++ b/doc/tracepath.xml
+@@ -1,4 +1,4 @@
+-<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
++<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+ xml:id="man.tracepath">
+ 
+   <refentryinfo>
+diff --git a/doc/traceroute6.xml b/doc/traceroute6.xml
+index c52d296..5a72784 100644
+--- a/doc/traceroute6.xml
++++ b/doc/traceroute6.xml
+@@ -1,4 +1,4 @@
+-<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
++<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+ xml:id="man.traceroute6">
+ 
+   <refentryinfo>
diff -Naur iputils-s20190515/doc/arping.xml iputils-s20190515.new/doc/arping.xml
--- iputils-s20190515/doc/arping.xml	2019-05-15 22:14:10.000000000 +0200
+++ iputils-s20190515.new/doc/arping.xml	2019-05-16 15:42:41.015218315 +0200
@@ -1,4 +1,4 @@
-<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
 xml:id="man.arping">
 
   <refentryinfo>
diff -Naur iputils-s20190515/doc/clockdiff.xml iputils-s20190515.new/doc/clockdiff.xml
--- iputils-s20190515/doc/clockdiff.xml	2019-05-15 22:14:10.000000000 +0200
+++ iputils-s20190515.new/doc/clockdiff.xml	2019-05-16 15:42:41.015218315 +0200
@@ -1,4 +1,4 @@
-<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
 xml:id="man.clockdiff">
 
   <refentryinfo>
diff -Naur iputils-s20190515/doc/custom-html.xsl iputils-s20190515.new/doc/custom-html.xsl
--- iputils-s20190515/doc/custom-html.xsl	2019-05-15 22:14:10.000000000 +0200
+++ iputils-s20190515.new/doc/custom-html.xsl	2019-05-16 15:42:41.015218315 +0200
@@ -2,7 +2,7 @@
 
 <xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
 
-<xsl:import href="http://docbook.sourceforge.net/release/xsl-ns/current/html/docbook.xsl"/>
+<xsl:import href="http://docbook.sourceforge.net/release/xsl/current/html/docbook.xsl"/>
 <!--
   - The docbook stylesheet injects empty anchor tags into generated HTML, identified by an auto-generated ID.
   - Ask the docbook stylesheet to generate reproducible output when generating (these) ID values.
diff -Naur iputils-s20190515/doc/custom-man.xsl iputils-s20190515.new/doc/custom-man.xsl
--- iputils-s20190515/doc/custom-man.xsl	2019-05-15 22:14:10.000000000 +0200
+++ iputils-s20190515.new/doc/custom-man.xsl	2019-05-16 15:42:41.015218315 +0200
@@ -5,7 +5,7 @@
                 extension-element-prefixes="exsl"
                 version="1.0">
 
-<xsl:import href="http://docbook.sourceforge.net/release/xsl-ns/current/manpages/docbook.xsl"/>
+<xsl:import href="http://docbook.sourceforge.net/release/xsl/current/manpages/docbook.xsl"/>
 
 <xsl:template name="top.comment" />
 
diff -Naur iputils-s20190515/doc/meson.build.orig iputils-s20190515.new/doc/meson.build.orig
--- iputils-s20190515/doc/meson.build.orig	1970-01-01 01:00:00.000000000 +0100
+++ iputils-s20190515.new/doc/meson.build.orig	2019-05-16 15:42:41.015218315 +0200
@@ -0,0 +1,100 @@
+manpages = []
+custom_man_xsl = files('custom-man.xsl')
+custom_html_xsl = files('custom-html.xsl')
+
+if build_arping == true
+	manpages += ['arping']
+endif
+
+if build_clockdiff == true
+	manpages += ['clockdiff']
+endif
+
+if build_ping == true
+	manpages += ['ping']
+endif
+
+if build_rarpd == true
+	manpages += ['rarpd']
+endif
+
+if build_rinfod == true
+	manpages += ['rdisc']
+endif
+
+if build_tftpd == true
+	manpages += ['tftpd']
+endif
+
+if build_tracepath == true
+	manpages += ['tracepath']
+endif
+
+if build_traceroute6 == true
+	manpages += ['traceroute6']
+endif
+
+if build_ninfod == true
+	manpages += ['ninfod']
+endif
+
+xsltproc = find_program('xsltproc', required : true)
+xsltproc_args = [
+	'--nonet',
+	'--stringparam', 'man.output.quietly', '1',
+	'--stringparam', 'funcsynopsis.style', 'ansi',
+	'--stringparam', 'man.th.extra1.suppress', '1',
+	'--stringparam', 'iputils.version', meson.project_version(),
+]
+
+if xsltproc.found()
+	xsl = 'http://docbook.sourceforge.net/release/xsl/current/manpages/docbook.xsl'
+	testrun = run_command([xsltproc, '--nonet', xsl])
+	xsltproc_works = testrun.returncode() == 0
+	if xsltproc_works == false
+		warning('xsltproc: cannot process ' + xsl)
+	endif
+else
+	warning('No docbook stylesheet found for generating man pages')
+	xsltproc_works = false
+endif
+
+if xsltproc_works == false
+	error('Man pages cannot be built: xsltproc does not work correctly')
+endif
+
+if build_mans
+	foreach man : manpages
+		custom_target(man + '.8',
+			output : man + '.8',
+			input : man + '.xml',
+			command : [
+				xsltproc,
+				'-o', '@OUTPUT@',
+				xsltproc_args,
+				custom_man_xsl,
+				'@INPUT@',
+			],
+			install : true,
+			install_dir : join_paths(get_option('mandir'), 'man8'),
+		)
+	endforeach
+endif
+
+if build_html_mans
+	foreach man : manpages
+		custom_target(man + '.html',
+			output : man + '.html',
+			input : man + '.xml',
+			command : [
+				xsltproc,
+				'-o', '@OUTPUT@',
+				xsltproc_args,
+				custom_html_xsl,
+				'@INPUT@',
+			],
+			install : true,
+			install_dir : join_paths(get_option('datadir'), meson.project_name()),
+		)
+	endforeach
+endif
diff -Naur iputils-s20190515/doc/ninfod.xml iputils-s20190515.new/doc/ninfod.xml
--- iputils-s20190515/doc/ninfod.xml	2019-05-15 22:14:10.000000000 +0200
+++ iputils-s20190515.new/doc/ninfod.xml	2019-05-16 15:42:41.015218315 +0200
@@ -1,4 +1,4 @@
-<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
 xml:id="man.ninfod">
 
   <refentryinfo>
diff -Naur iputils-s20190515/doc/ping.xml iputils-s20190515.new/doc/ping.xml
--- iputils-s20190515/doc/ping.xml	2019-05-15 22:14:10.000000000 +0200
+++ iputils-s20190515.new/doc/ping.xml	2019-05-16 15:42:41.015218315 +0200
@@ -1,4 +1,4 @@
-<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
 xml:id="man.ping">
 
   <refentryinfo>
diff -Naur iputils-s20190515/doc/rarpd.xml iputils-s20190515.new/doc/rarpd.xml
--- iputils-s20190515/doc/rarpd.xml	2019-05-15 22:14:10.000000000 +0200
+++ iputils-s20190515.new/doc/rarpd.xml	2019-05-16 15:42:41.015218315 +0200
@@ -1,4 +1,4 @@
-<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
 xml:id="man.rarpd">
 
   <refentryinfo>
diff -Naur iputils-s20190515/doc/rdisc.xml iputils-s20190515.new/doc/rdisc.xml
--- iputils-s20190515/doc/rdisc.xml	2019-05-15 22:14:10.000000000 +0200
+++ iputils-s20190515.new/doc/rdisc.xml	2019-05-16 15:42:41.015218315 +0200
@@ -1,4 +1,4 @@
-<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
 xml:id="man.rdisc">
 
   <refentryinfo>
diff -Naur iputils-s20190515/doc/tftpd.xml iputils-s20190515.new/doc/tftpd.xml
--- iputils-s20190515/doc/tftpd.xml	2019-05-15 22:14:10.000000000 +0200
+++ iputils-s20190515.new/doc/tftpd.xml	2019-05-16 15:42:41.015218315 +0200
@@ -1,4 +1,4 @@
-<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
 xml:id="man.tftpd">
 
   <refentryinfo>
diff -Naur iputils-s20190515/doc/tracepath.xml iputils-s20190515.new/doc/tracepath.xml
--- iputils-s20190515/doc/tracepath.xml	2019-05-15 22:14:10.000000000 +0200
+++ iputils-s20190515.new/doc/tracepath.xml	2019-05-16 15:42:41.015218315 +0200
@@ -1,4 +1,4 @@
-<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
 xml:id="man.tracepath">
 
   <refentryinfo>
diff -Naur iputils-s20190515/doc/traceroute6.xml iputils-s20190515.new/doc/traceroute6.xml
--- iputils-s20190515/doc/traceroute6.xml	2019-05-15 22:14:10.000000000 +0200
+++ iputils-s20190515.new/doc/traceroute6.xml	2019-05-16 15:42:41.015218315 +0200
@@ -1,4 +1,4 @@
-<refentry xmlns="http://docbook.org/ns/docbook" version="5.0"
+<refentry xmlns:db="http://docbook.org/ns/docbook" version="5.0"
 xml:id="man.traceroute6">
 
   <refentryinfo>
