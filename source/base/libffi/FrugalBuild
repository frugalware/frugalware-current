# Compiling Time: 0.02 SBU
# Maintainer: whoever <none@frugalware.org>

pkgname=libffi
pkgver=3.3
pkgrel=2
pkgdesc="A Portable Foreign Function Interface Library"
url="http://sourceware.org/libffi/"
depends=('glibc>=2.29-5')
groups=('base' 'chroot-core')
archs=('x86_64')
up2date="Flasttar $url"
source=("ftp://sourceware.org/pub/$pkgname/$pkgname-$pkgver.tar.gz")
sha1sums=('8df6cb570c8d6596a67d1c0773bf00650154f7aa')
_F_cross32_simple_auto=yes
Finclude cross32

options+=('ldgold')

build() {

	Fcd

	Fcross32_common_build
	Fcross32_delete_empty
	Fmkdir usr/i686-frugalware-linux/include
	Fln /usr/lib32/$pkgname-$pkgver/include/ffi.h /usr/i686-frugalware-linux/include/
	Fln /usr/lib32/$pkgname-$pkgver/include/ffitarget.h /usr/i686-frugalware-linux/include/

	Fsplit "${subpkgs[0]}" /\*

	Fbuild
}

# optimization OK
