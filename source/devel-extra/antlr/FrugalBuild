# Compiling Time: 0.85 SBU
# Maintainer: VMiklos <vmiklos@frugalware.org>

pkgname=antlr
pkgver=2.7.7
pkgrel=1
pkgdesc="ANother Tool for Language Recognition"
url="http://www.antlr.org/"
Finclude java
makedepends=('ecj' 'java-gcj-compat' 'gcc-gcj')
groups=('devel-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump http://www.antlr.org/download.html|grep -m1 'antlr-\(.*\).tar.gz'|Flasttar"
source=(http://www.antlr.org/download/antlr-$pkgver.tar.gz)

build()
{
	JAVAC=ecj Fbuild
	# install the proper java/python bindings
	Fjar antlr/antlr.jar
	cd lib/python
	rm Makefile*
	Fmakeinstall
	# then clean up the junk
	Frm /usr/lib/antlr.{jar,py} /usr/{sbin,bin/antlr}
	Frm /usr/share/antlr-$pkgver/{__init__.py,antlr.jar,antlr.py}
}

# optimization OK

sha1sums=('802655c343cc7806aaf1ec2177a0e663ff209de1')
