# Compiling Time: 8.0 SBU
# Maintainer: Melko <melko@frugalware.org>

options+=('asneeded')

pkgname=julia
pkgver=0.3.1
pkgrel=1
pkgdesc="High-level, high-performance dynamic programming language for technical computing."
depends=('lapack' 'fftw' 'arpack-ng' 'gmp')
makedepends=('gcc-gfortran' 'llvm')
groups=('devel-extra')
archs=('i686' 'x86_64')
_F_github_tag="1"
_F_github_author="JuliaLang"
_F_github_ver="v$pkgver"
_F_github_devel=yes
_F_scm_tag="v$pkgver"
Finclude github

build() {
	Funpack_scm
	Fcd $pkgname
	Fmakeinstall -j 1 prefix=/usr sysconfdir=/etc \
		USE_SYSTEM_LLVM=1 \
		USE_SYSTEM_READLINE=1 \
		USE_SYSTEM_PCRE=1 \
		USE_SYSTEM_LIBM=1 \
		USE_SYSTEM_OPENLIBM=0 \
		USE_SYSTEM_OPENSPECFUN=0 \
		USE_SYSTEM_BLAS=1 \
		USE_SYSTEM_LAPACK=1 \
		USE_SYSTEM_FFTW=1 \
		USE_SYSTEM_GMP=1 \
		USE_SYSTEM_MPFR=1 \
		USE_SYSTEM_ARPACK=1 \
		USE_SYSTEM_SUITEPARSE=1 \
		USE_SYSTEM_ZLIB=1 \
		USE_SYSTEM_GRISU=0 \
		USE_SYSTEM_RMATH=0 \
		USE_SYSTEM_LIBUV=0 \
		USE_SYSTEM_UTF8PROC=0 \
		USE_MKL=0 \
		USE_BLAS64=0 \
		USE_LLVM_SHLIB=0
}
