# Compiling Time: 0.04 SBU
# Maintainer: Miklos Vajna <vmiklos@frugalware.org>

pkgname=junit
pkgver=4.4
pkgrel=2
pkgdesc="A regression testing framework."
_F_sourceforge_ext=".zip"
Finclude java sourceforge
url="http://www.junit.org/"
depends=(${depends[@]} 'hamcrest')
groups=('devel-extra')
archs=('i686' 'x86_64')
source=(${source/-})
sha1sums=('83be34288bf8e595a6eb5a1de9c6cd96042d8c32')

build()
{
	Fcd $pkgname$pkgver
	rm -rf src
	mkdir -p src
	unzip -qq -d src $pkgname-$pkgver-src.jar
	rm -rfv javadoc temp.hamcrest.source
	Fjavacleanup
	mkdir -p classes
	javac -1.5 -cp $(ls /usr/share/java/hamcrest-*.jar|tr '\n' ':') -d classes \
		-sourcepath src $(find src -name "*.java") || return 1
	jar -cf junit.jar -C classes . || return 1
	Fjar junit.jar
	Fdocrel README.html doc/ReleaseNotes$pkgver.txt
}
