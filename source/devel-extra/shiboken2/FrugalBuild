# Compiling Time: 1.33 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=shiboken2
<<<<<<< HEAD
pkgver=5.15.2.1
=======
pkgver=5.15.4
>>>>>>> 5d9fdffdc7d52a915502c889821386bdbc4ff7c5
_qtver=5.15.2
pkgrel=1
pkgdesc="Support library for Python bindings."
depends=("qt5-xmlpatterns>=$_qtver" 'clang-libs>=12.0.0' 'libxslt')
makedepends=('python3-sphinx' 'clang' 'llvm')
url="https://wiki.qt.io/Qt_for_Python"
_F_pypi_ext="-cp35.cp36.cp37.cp38.cp39.cp310-abi3-manylinux1_x86_64.whl"
_F_cmake_confopts="     -DBUILD_TESTS=OFF \
                        -DPYTHON_EXECUTABLE=/usr/bin/python3 \
			-DUSE_PYTHON_VERSION=3"
Finclude pypi cmake
groups=('devel-extra')
up2date="$up2date | sed \"s/_${_qtver}//\" "
<<<<<<< HEAD
source=("https://download.qt.io/official_releases/QtForPython/$pkgname/PySide2-$pkgver-src/pyside-setup-opensource-src-${pkgver}.zip")
sha1sums=('7c142ee5222e24d1a53dd54ae6b0d05235ff5015')
=======
source=("https://download.qt.io/official_releases/QtForPython/$pkgname/PySide2-$pkgver-src/pyside-setup-opensource-src-${pkgver}.tar.xz")
sha1sums=('7b312ef3ce3c8d6365fc9fc6dce5b031ddf14e2e')
>>>>>>> 5d9fdffdc7d52a915502c889821386bdbc4ff7c5
archs=('x86_64')
_F_cd_path="pyside-setup-opensource-src-${pkgver}/sources/shiboken2"
options=('clang')
export CC=/usr/bin/clang
export CXX=/usr/bin/clang++

subpkgs=("python3-$pkgname")
subdescs=("Shiboken lib python only")
subdepends=('python3>=3.10')
subarchs=('x86_64')
subgroups=('lib')

build() {
	CMake_build
	Fsplit python3-$pkgname	usr/lib/python*
	Fsplit python3-$pkgname usr/lib/libshiboken*
}

# optimization OK
