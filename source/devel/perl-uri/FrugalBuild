# Compiling Time: 0.01 SBU
# Contributor: VMiklos <vmiklos@frugalware.org>
# Maintainer: Zsolt Szalai <xbit@frugalware.org>

pkgname=perl-uri
pkgver=1.35
perlver=5.8.6
pkgrel=2
pkgdesc="Perl Module: form Resource Identifiers (absolute and relative)"
url="http://search.cpan.org/~gaas/URI"
groups=('devel')
archs=('i686' 'x86_64')
depends=('perl')
up2date="lynx -dump http://www.cpan.org/authors/id/G/GA/GAAS/?M=D|grep URI-[0-9\.]*.tar.gz$|sed -n 's/.*-\(.*\)\.t.*/\1/;1 p'"
source=(http://www.cpan.org/authors/id/G/GA/GAAS/URI-$pkgver.tar.gz)
sha1sums=('e385446f95bbf12ea55e002cf594c85a73e85e7b')

build() {
	cd $startdir/src/URI-$pkgver
	perl Makefile.PL
	sed -i "s/$perlver/current/g" Makefile
	
	make test
	make || return 1
	
	make install DESTDIR=$startdir/pkg
	find $startdir/pkg/usr/lib/perl5/ -name perllocal.pod -exec rm {} \;
	find $startdir/pkg/usr/lib/perl5/site_perl/current/ -name .packlist -exec rm {} \;
}

# vim: ft=sh
