# Compiling Time: 0.84 SBU
# Maintainer: DeX77 <dex77@frugalware.org>
# Contributor: Priyank Gosalia <priyankmg@gmail.com>

pkgname=lincity-ng
pkgver=2.9.beta.gb5ee28d
pkgrel=2
pkgdesc="A City Simulation Game. It is a polished and improved version of the classic LinCity game."
up2date="Flasttar https://bintray.com/lincityng/LinCity-NG/LinCity-NG/view/files"
license="GPL"
depends=('sdlimage>=1.2.12-2' 'sdl2_mixer' 'sdl2_image' 'sdl2_ttf' 'sdl2_gfx' 'physfs>=2.0.3-3')
makedepends=('jam' 'libglu')
groups=('games-extra')
archs=('x86_64')
_F_github_devel="yes"
Finclude github

build()
{
	Funpack_scm
	Fcd
	Fpatchall

	export AR="gcc-ar cru"
	export NM=gcc-nm
        export RANLIB=gcc-ranlib
	Fbuildsystem_configure 'prepare'
	Fbuildsystem_configure 'configure'
	Fexec ./makerelease.sh || Fdie
	[ -n "$MAKEFLAGS" ] && JOBS="$MAKEFLAGS"
	Fexec jam -q -dx $JOBS || Fdie

	Fexec jam -q -dx -sDESTDIR=$Fdestdir install || Fdie
}

# optimization OK
