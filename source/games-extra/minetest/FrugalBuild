# Compiling Time: 4.11 SBU
# Maintainer: Pingax <pingax@frugalware.org>
# Contributor: PacMiam <PacMiam@gmx.fr>

pkgname=minetest
pkgver=5.9.0
pkgrel=1
_irrlicht_ver=1.9.0mt13
pkgdesc="Minetest is an infinite-world block sandbox game and a game engine, inspired by InfiniMiner and Minecraft."
url="http://minetest.net/"
depends=('openal' 'luajit2' 'curl' 'libpq')
makedepends+=('x11-protos' 'git' 'doxygen' 'postgresql')
groups=('games-extra')
archs=('x86_64')
_F_cmake_confopts="	-DENABLE_FREETYPE=ON \
			-DENABLE_GETTEXT=ON"
_F_cmake_type="Release"
_F_github_tag="release"
_F_github_grepv=android
_F_gnome_iconcache="y"
Finclude cmake github gnome-scriptlet
sha1sums=('0d3c412ad13ce6b13e05820424bb29cf9fc1a685')

build() {
	Fcd
	Fexec git clone -b $_irrlicht_ver --single-branch https://github.com/minetest/irrlicht.git lib/irrlichtmt
	CMake_build
	Fbuild_gnome_scriptlet
}

# optimization OK
