# Compiling Time: 1.51 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=lablgtk2
pkgver=2.6.0
pkgrel=2
pkgdesc="an interface to the GIMP Tool Kit"
url="http://wwwfun.kurims.kyoto-u.ac.jp/soft/olabl/lablgtk.html"
depends=('gtk+2' 'librsvg' 'libglade' 'libgnomecanvas' 'gnome-panel' 'libgnomeui' 'ocaml')
groups=('gnome-extra')
archs=('x86_64' 'i686')
options=('scriptlet')
up2date="lynx -dump $url |grep lablgtk-|sed -n 's/.*lablgtk-\(.*\)/\1/;1 p' | sed 's|.tar.gz||'"
source=(http://wwwfun.kurims.kyoto-u.ac.jp/soft/olabl/dist/lablgtk-$pkgver.tar.gz)
sha1sums=('99aecd26360c5ba8f0d17fb0cdae42ff083732ce')
license="LGPL"

build () {
	unset MAKEFLAGS
	Fcd lablgtk-$pkgver
	Fconf
	make all opt || return 1
	make DESTDIR=$Fdestdir install || return 1 # Fmakeinstall doesn't work on i686
	Fmkdir usr/share/doc/$pkgname-$pkgver/examples
	Ffile lablgtk-$pkgver/examples/*.ml usr/share/doc/$pkgname-$pkgver/examples/
}

# TODO: lablgl support. (gtkgl, etc.)
