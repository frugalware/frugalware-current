# Compiling Time: 0.03 SBU
# Maintainer: AlexExtreme <alex@alex-smith.me.uk>

pkgname=meld
pkgver=1.1.4
pkgrel=1
pkgdesc="a visual diff and merge tool"
url="http://meld.sourceforge.net/"
depends=('gnome-python')
makedepends=('scrollkeeper' 'intltool')
_F_gnome_desktop="y"
_F_gnome_devel="y"
_F_gnome_scrollkeeper="y"
Finclude gnome gnome-scriptlet
source=(${source[@]} meld-ja-po-fix.patch \
	http://ftp.frugalware.org/pub/other/sources/$pkgname/meld-scrollkeeper-strip.patch \
	http://ftp.frugalware.org/pub/other/sources/$pkgname/meld-cvs-fixes.patch)
groups=('gnome-extra')
archs=('i686' 'x86_64')
sha1sums=('52f51e5825b4e2bb56594a9f4e180908e714848f' \
	  'acc1e8bf0ed0b1d6db6e805d74c5576e226f0b56' \
	  '3e22a6e2fc0fda1be9124bb93a436ed68b961599' \
	  '1e4ab8b7bac602410c8082db963523d978534d82')

build() {
	Fcd
	Fpatchall
	Fbuild_slice_scrollkeeper
	Fsed "prefix := /usr/local" "prefix := /usr" INSTALL
	Fsed "\(.*python.*compile.*\)" "#\1" GNUmakefile
	Fmake
	Fmakeinstall
	Fbuild_gnome_scriptlet
}

# optimalization OK
