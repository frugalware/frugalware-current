# Compiling Time: 0.16 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>
# Contributor: detto <detto_o@freenet.de>

pkgname=muine
pkgver=0.8.11
pkgrel=3
pkgdesc="Small music player written in C# featuring easy song/album adding to playlist."
archs=('i686' 'x86_64' 'ppc')
groups=('gnome-extra')
depends=('gnome-sharp>=2.24.1-5' 'gstreamer' 'gst-plugins-base-vorbis' 'gst-plugins-ugly-mad'\
	'gst-plugins-good-flac' 'gst-plugins-base-gnomevfs' 'gst-plugins-bad-faad2' 'libid3tag' 'dbus'\
	'dbus-sharp-glib' 'taglib-sharp')
makedepends=('perl-xml-parser' 'intltool')
_F_gnome_desktop=y
_F_gnome_iconcache=y
_F_gnome_schemas=('/etc/gconf/schemas/muine.schemas')
options=('scriptlet')
Finclude mono gnome-scriptlet gnome
source=($source fix_gtk_deprecated.diff)
url="http://muine-player.org"
sha1sums=('c1da39ba39d5af58aff0ec661c0bec54738e4b71' \
          '195d47e7e4845a356f44133f56345eff778dcb78')

build () {
	Fmonoexport
	Fcd
	Fsed "-Werror" "" configure
	Fsed 'ndesk-dbus' 'dbus-sharp' configure*
	Fsed 'ndesk-dbus-glib' 'dbus-sharp-glib' configure*
	find ./ -exec sed -i "s/NDesk.DBus/DBus/g" {} \;
	Fbuild
	Fmonocleanup
	Frm usr/share/doc/$pkgver
	Fbuild_gnome_scriptlet
}

# optimization OK
