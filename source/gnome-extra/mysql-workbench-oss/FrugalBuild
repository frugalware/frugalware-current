# Compiling Time: 8.94 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=mysql-workbench-oss
_F_archive_name=mysql-workbench-gpl
pkgver=5.2.35
pkgrel=3
pkgdesc="MySQL Workbench is a cross-platform, visual database design tool developed by MySQL."
url="http://wb.mysql.com/"
depends=('libmysqlclient' 'libzip' 'libsigc++2' 'libglade' 'gtkmm2' 'libgnome' \
	'paramiko' 'pexpect' 'lua' 'ctemplate' 'readline' 'openssl>=1.0.0')
makedepends=('mysql' 'boost>=1.46.1')
groups=('gnome-extra')
archs=('i686' 'x86_64')
options=('scriptlet')
Fconfopts="${Fconfopts[@]} --enable-readline"
up2date="lynx -dump -source http://dev.mysql.com/downloads/workbench/5.1.html |Flasttar"
mirror="http://mysql.mirrors.crysys.hit.bme.hu/"
source=($mirror/Downloads/MySQLGUITools/$_F_archive_name-$pkgver-src.tar.gz \
	frugalware.xml frugalware.patch freeze_fix.patch)
sha1sums=('74c2dddba06e4b233f3b28acf8be45f0394310f2' \
          '48e98ffa340dbc27eb96d26134fd6be4156e564e' \
          '1f4e1ab0ad490cd9ad284aefffea33fb09156fac' \
          '7392e23e3268ff99f9a269ab50c12006f80e3440')

replaces=('mysql-administrator')
provides=('mysql-administrator')

build() {
	Fcd $_F_archive_name-${pkgver/b/}-src
	cp ..//frugalware.xml res/mysql.profiles || Fdie
	sh ./autogen.sh || Fdie
	Fbuild
}

# optimization OK
