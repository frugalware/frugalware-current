# Compiling Time: 0.23 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>
# Contributor: AlexExtreme <alex@alex-smith.me.uk>

pkgname=tracker
pkgver=0.12.0
pkgrel=1
pkgdesc="Tracker is a first class object database, extensible tag/metadata database, search tool and indexer."
depends=('gtk+2>=2.20.0-2' 'dbus-glib>=0.76' 'sqlite3' 'gamin' \
	'poppler-glib>=0.14.3' 'libvorbis' 'libpng' 'libexif' 'libgsf' 'gstreamer' \
	'gnome-desktop>=2.91.0' 'exempi' 'upower>=0.9.6' 'openssl>=1.0.0')
makedepends=('intltool' 'perl-xml-parser' 'deskbar-applet')
groups=('gnome-extra')
conflicts=('tracker-search-tool')
provides=('tracker-search-tool')
replaces=('tracker-search-tool' 'paperbox')
archs=('i686' 'x86_64')
_F_gnome_desktop="y"
_F_gnome_iconcache="y"

Finclude gnome-scriptlet gnome
sha1sums=('a902caabbb7cc457ffcc22471762cafbb9bbbf36')
unset MAKEFLAGS

subpkgs=("${subpkgs[@]}" "$pkgname-nautilus")
subdescs=("${subdescs[@]}" "nautilus plugin tracker")
subdepends=("${subdepends[@]}" "nautilus")
subrodepends=("${subrodepends[@]}" "$pkgname")
subgroups=("${subgroups[@]}" 'gnome-extra')
subarchs=("${subarchs[@]}" 'i686 x86_64')


build() {
	Fcd
	Fsed "tracker-search-bar.1" "" docs/manpages/Makefile*
	Fbuild --with-unicode-support=glib
	Fsplit $pkgname-nautilus usr/lib/nautilus
	Fbuild_gnome_scriptlet
}

# optimization OK
