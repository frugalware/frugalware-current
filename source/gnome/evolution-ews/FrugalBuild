# Compiling time: 0.58 SBU
# Maintainer: Baste <baste@frugalware.org>
# Contributor: bouleetbil <bouleetbil@frogdev.info>

pkgname=evolution-ews
pkgver=3.28.3
pkgrel=1
pkgdesc="MS Exchange integration through Exchange Web Services"
depends=('evolution-data-server>=3.28.2' 'evolution>=3.28.2' 'libsoup>=2.62.0' \
		'evolution-data-server-ldap>=3.28.2' 'libkrb5' 'openssl>=1.0.0')
makedepends=('gtk-doc>=1.24' 'perl-xml-parser' 'openldap' 'intltool' 'krb5')
groups=('gnome')
archs=("x86_64")
_F_gnome_devel="n"
_F_gnome_ext=".tar.xz"
Finclude gnome cmake
Fconfopts+=" --disable-gtk-doc --with-krb5=/usr --with-internal-lzx"
conflicts=('evolution-exchange')
replaces=('evolution-exchange')
provides=('evolution-exchange')
sha1sums=('1af45d2a5cdfa56455c2331f1c4cf5d43d8c8b70')

build() {
	Fcd
	Fexec cmake \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DLIBEXEC_INSTALL_DIR=/usr/lib/evolution \
		-DSYSCONF_INSTALL_DIR=/etc \
		-DWITH_MSPACK=OFF . || Fdie
	Fexec make || Fdie
	Fexec make DESTDIR=$Fdestdir install || Fdie
}

# optimization OK
