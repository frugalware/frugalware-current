# Compiling time: 1.50 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=gedit
pkgver=2.30.3
pkgrel=2
pkgdesc="A text editor for GNOME"
url="http://www.gnome.org/"
depends=('rarian' 'desktop-file-utils' 'python>=2.6' 'gtksourceview>=2.10.0' 'dbus-glib>=0.74' \
	'enchant' 'iso-codes' 'libgnomeui>=2.24.3-2' 'python>=2.7')
makedepends=('intltool' 'gnome-doc-utils>=0.16.0' 'gnome-python-desktop-gtksourceview>=2.28.0' \
	'pygtksourceview>=2.10.0' 'gtk-doc')
groups=('gnome' 'gnome-minimal')
archs=('i686' 'x86_64' 'ppc')
_F_gnome_schemas=('/etc/gconf/schemas/gedit.schemas' \
		  '/etc/gconf/schemas/filebrowser.schemas')
_F_gnome_scrollkeeper="y"
_F_gnome_desktop="y"
Finclude gnome gnome-scriptlet
sha1sums=('c198bf088beb3cae6bee6fe91ef976cee250e688')

subpkgs=("$pkgname-python")
subdescs=('gedit python plugins')
subdepends=("gnome-python-desktop-gtksourceview>=2.28.0 pygtksourceview")
subrodepends=("$pkgname=$pkgver")
subgroups=('gnome-extra')
subarchs=('i686 x86_64 ppc')

build() {
	Fbuild_slice_scrollkeeper
	Fmake --enable-gtk-doc --enable-python
	unset MAKEFLAGS
	Fmakeinstall

	# For python :P
	Fsplit gedit-python usr/lib/gedit-2/plugins/modelines.gedit-plugin
	Fsplit gedit-python usr/lib/gedit-2/plugins/pythonconsole/
	Fsplit gedit-python usr/lib/gedit-2/plugins/snippets/
	Fsplit gedit-python usr/lib/gedit-2/plugins/externaltools/
	Fsplit gedit-python usr/lib/gedit-2/plugins/externaltools.gedit-plugin
	Fsplit gedit-python usr/lib/gedit-2/plugins/pythonconsole.gedit-plugin
	Fsplit gedit-python usr/lib/gedit-2/plugins/snippets.gedit-plugin
	Fbuild_gnome_scriptlet
}

# optimization OK
