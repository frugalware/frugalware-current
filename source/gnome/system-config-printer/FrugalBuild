# Compiling Time: 0.01 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=system-config-printer
pkgver=1.0.12
pkgrel=1
pkgdesc="The purpose of the tool is to configure a CUPS server using the CUPS API."
url="http://cyberelk.net/tim/software/system-config-printer/"
up2date="lynx -dump http://cyberelk.net/tim/data/system-config-printer/1.0.x/ | Flasttarbz2"
depends=('pycups' 'notify-python')
makedepends=('perl-xml-parser' 'desktop-file-utils' 'xmlto' 'docbook-xml' 'docbook-xsl' 'docbook-sgml-dtd-4.1')
groups=('gnome' 'gnome-minimal')
archs=('i686')
_F_gnome_desktop="y"
Finclude gnome-scriptlet
source=(http://cyberelk.net/tim/data/system-config-printer/1.0.x/${pkgname}-${pkgver}.tar.bz2 policy.diff DisableMan.diff)
sha1sums=('316218f322cd2031d98e3e42e450e20d38a76bc0' \
          '68187106ae74c112b278b5bd399042474753dc3e' \
          '5aa8ba3c75b732f026fd342f4dc5a5949f54bef8')

build() {
	Fcd
	# For change vendor redhat by Frugalware
	Fsed "/redhat/" "/frugalware/" applet.py
	Fsed ".redhat." ".frugalware." applet.py
	Fsed "/usr/bin/system-install-packages" "pacman -S" applet.py
	Fsed " redhat" " frugalware" Makefile.in
	Fbuild
	Fmkdir usr/share/gnome/autostart
	#for new gnome and keep one into for launch on startup for other desktop
	Fcp etc/xdg/autostart/frugalware-print-applet.desktop \
		usr/share/gnome/autostart/frugalware-print-applet.desktop
	Fbuild_gnome_scriptlet
}
