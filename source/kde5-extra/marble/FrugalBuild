# Compiling Time: 0.33 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=marble
pkgver=20.04.3
pkgrel=8
pkgdesc="Desc: Virtual Globe and World Atlas."
_F_kde_project="release-service"
Finclude kf5
groups=('kde5-extra')
archs=('x86_64')
depends=("qt5-webkit>=$_F_kdever_qt5" "qt5-location>=$_F_kdever_qt5" "qt5-tools>=$_F_kdever_qt5")
makedepends+=('kdoctools')
rodepends=('libmarble')
source+=(gpsd-3.21.patch)
sha1sums=('9e0c4a560096b3d22ccd08a2038eb77fdfaca719' \
          '0cf5e6005a0faf8b07864a80cb994ca9c88c89a3')
_F_cmake_confopts+="	-DKDE_INSTALL_CONFDIR=/etc/xdg"

subpkgs=('libmarble')
subdescs=('Marble libs')
subgroups=('kde5-extra')
subarchs=('x86_64')
subdepends=('qt5-webengine qt5-serialport gpsd knewstuff kparts krunner5')
subreplaces=('libmarblewidget')
subconflicts=('libmarblewidget')
subprovides=('libmarblewidget')

build() {
	KDE_build
	Fsplit libmarble /usr/lib/libmarble*
	Fsplit libmarble /usr/lib/libastro*
	Fsplit libmarble /usr/lib/marble
	Fsplit libmarble /usr/lib/qt5/
}

# optimization OK
