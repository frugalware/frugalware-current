# Compiling Time: 1.00 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=libmpack-lua
pkgver=1.0.7
pkgdesc="libmpack lua binding"
pkgrel=2
archs=('x86_64')
depends=('libmpack' 'lua51')
groups=('lib-extra')
_F_github_tag=y
_F_github_author="libmpack"
Finclude github
sha1sums=('b3bee40c1a60676e129eac6766e0697566c5488e')
_F_make_opts+="PREFIX=/usr"

build() {
	Fcd
	Fexec gcc -O2 -fPIC -DMPACK_USE_SYSTEM -I/usr/include/lua5.1 -c lmpack.c -o lmpack.o || Fdie
	Fexec gcc -shared -lmpack -o mpack.so.5.1 lmpack.o || Fdie
	Finstallrel 755 mpack.so.5.1 /usr/lib/lua/5.1/mpack.so
}
