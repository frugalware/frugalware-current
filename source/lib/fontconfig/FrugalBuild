# Last modified: Fri, 23 Jun 2006 00:49:54 +0200
# Compiling time: 0.22 SBU
# Maintainer: crazy <crazy@frugalware.org>
# Contributor: VMiklos <vmiklos@frugalware.org>

pkgname=fontconfig
pkgver=2.3.95
pkgrel=7
pkgdesc="A library for configuring and customizing font access"
url="http://fontconfig.org/"
depends=('libxml2' 'freetype2>=2.2.1' 'expat' 'frugalware')
groups=('lib' 'misc-fonts')
archs=('i686' 'x86_64')
up2date="lynx -dump 'http://fontconfig.org/release/?C=M;O=D'|grep tar.gz$|sed -n 's/.*-\(.*\)\.t.*/\1/;1 p'"
source=(http://fontconfig.org/release/fontconfig-$pkgver.tar.gz fonts.conf \
	fontconfig-2.3.95-ttf-collections.patch fontconfig-2.4-cmap-parsing.patch \
	00-fw-no-bitmap.conf \
	01-fw-autohinting.conf \
	02-fw-urw.conf wqy.conf \
	frugalware.conf)
sha1sums=('0349b0dea46e58ac6db370f344596d7ac6f31a01' \
          '178a667c3759424d2208ea3d29fda5f3e53c7c69' \
          'c55837104cd160d52b69fe1a144a9717ca9e16cc' \
          '8791c0f7879b368842ac26f134c37750ba2c93c1' \
          '3e9cbbc8fcbf1b10a1e6c38045cae60f9f695a0a' \
          '4446afe79a1eea4084d6caafd905e5aaf3e7f0d8' \
          '2b4ce6246479460064bc66b6e5624a4da3d58965' \
          'a8a55e1ce51a6243f323f6bed9d3f0cc704084cc' \
          'db1d01d8910b5d54303539f921fca486157f4f98')

## NOTE: !!! DO _NOT_ BUMP , CHANGE or whatever else without permission from m8r or vmiklos !!! ##

build()
{
	Fcd
	Fautoconfize
	## docs will be back but I need build the depends() first
	Fbuild --with-add-fonts=/usr/lib/X11/fonts --enable-libxml2 --disable-docs
	Fmkdir /etc/fonts/frugalware.d
	Ffilerel ../{00-*,01-*,02-*,wqy.conf} /etc/fonts/frugalware.d/
	Ffilerel ../frugalware.conf /etc/fonts/
	Ffilerel ../fonts.conf /etc/fonts/
	Fmv  etc/fonts/conf.d/10-fonts-persian.conf /etc/fonts/frugalware.d/
	Fmkdir /etc/fonts/conf.d/disabled
	Fmv etc/fonts/conf.d/*.conf /etc/fonts/conf.d/disabled/
}

# optimization OK
