# Compiling Time: 0.41 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=intel-opencl-clang
pkgver=16.0.0
pkgrel=1
pkgdesc="A wrapper library around clang that can compile OpenCL C kernels to SPIR-V modules"
archs=("x86_64")
depends=('clang-libs>=16.0.1' 'spirv-llvm-translator')
makedepends=('llvm' 'llvm-static' 'git' 'openmp' 'mlir' 'polly' 'clang')
groups=('lib')
_F_github_author="intel"
_F_github_name="opencl-clang"
_F_github_tag_v=y
_F_cmake_confopts="	-DPREFERRED_LLVM_VERSION=16.0.1 \
			-DLLVMSPIRV_INCLUDED_IN_LLVM=OFF \
			-DSPIRV_TRANSLATOR_DIR=/usr/lib"
Finclude github cmake
_F_cd_path="${_F_github_name}-${pkgver}"
source+=(llvm-16.patch)
sha1sums=('f983c0dbe792108fddafeb0edbb3aae668fe5c1f' \
          '992c5f3e6a570dbc3424ff0ab256298f2f4d908f')

# optimization OK
