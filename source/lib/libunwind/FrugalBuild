# Compiling Time: 0.30 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=libunwind
pkgver=1.3.1
pkgrel=3
pkgdesc="Portable and efficient C programming interface (API) to determine the call-chain of a program"
url="http://www.nongnu.org/libunwind"
depends=('xz>=5.2.2-4')
makedepends=('pkgconfig' 'gcc>=9.2.1')
groups=('lib')
archs=("x86_64")
_F_archive_grepv="rc"
up2date="Flasttar http://download.savannah.gnu.org/releases/libunwind"
source=(http://download.savannah.gnu.org/releases/$pkgname/$pkgname-$pkgver.tar.gz)
sha1sums=('b2087f4095222802a03f901a235a898ca430897d')
_F_cross32_simple_auto=y
Finclude cross32
options+=('static')

subpkgs+=("${pkgname}-static")
subdescs+=("Static files for $pkgname")
subdepends+=('')
subgroups+=('devel-extra')
subarchs+=('x86_64')
suboptions+=('')

build() {

    Fbuild_cross32
    Fsplit $pkgname-static usr/lib/*.a
}

# optimization OK
