# Compiling Time: 0.30 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=libunwind
pkgver=1.6.2
pkgrel=1
pkgdesc="Portable and efficient C programming interface (API) to determine the call-chain of a program"
url="http://www.nongnu.org/libunwind"
depends=('xz>=5.2.2-4')
makedepends=('pkgconfig' 'gcc>=11.3')
groups=('lib')
archs=("x86_64")
_F_archive_grepv="rc"
up2date="Flasttar http://download.savannah.gnu.org/releases/libunwind"
source=(http://download.savannah.gnu.org/releases/$pkgname/$pkgname-$pkgver.tar.gz)
sha1sums=('1e4d5e4b9502bfbe7609a4a64b83eb040be3f741')
_F_cross32_simple_auto=y
Finclude cross32
options+=('static' 'force')

subpkgs+=("${pkgname}-static")
subdescs+=("Static files for $pkgname")
subdepends+=('')
subgroups+=('devel-extra')
subarchs+=('x86_64')
suboptions+=('force')

build() {

    Fbuild_cross32
    Fsplit $pkgname-static usr/lib/*.a
}

# optimization OK
