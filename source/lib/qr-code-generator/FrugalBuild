# Compiling Time: 0.06 SBU
# Maintainer: Miklos Vajna <vmiklos@frugalware.org>

pkgname=qr-code-generator
pkgver=1.5.0
commit="67c62461d380352500fc39557fd9f046b7fe1d18"
pkgrel=1
pkgdesc="a program to extract Microsoft Cabinet files"
_F_github_name=QR-Code-generator
url="https://github.com/nayuki/QR-Code-generator"
depends=('libstdc++')
groups=('lib')
archs=('x86_64')
_F_github_author=nayuki
Finclude github
source=($url/archive/$commit/qr-code-generator-${commit:0:7}.tar.gz build-fixes.patch)
sha1sums=('20da38990921976c5c5f6533c80d9a481dfacc6d' \
          '241f2cafa8e5f26c5b4740c4e56b2aa32e740376')

build()
{
	Fcd QR-Code-generator-$commit
	Fpatchall
	cd c
	Fmake
	Fmakeinstall LIBDIR=$Fdestdir/usr/lib INCLUDEDIR=$Fdestdir/usr/include/qrcodegen
	cd ..

	cd cpp
	Fmake
	Fmakeinstall LIBDIR=$Fdestdir/usr/lib INCLUDEDIR=$Fdestdir/usr/include/qrcodegencpp
	cd ..
}

# optimization OK
