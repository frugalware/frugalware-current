# Compiling Time: 0.07 SBU
# Maintainer: Miklos Vajna <vmiklos@frugalware.org>

pkgname=qc-usb
pkgver=0.6.6
pkgrel=39
pkgdesc="Quickcam kernel driver."
groups=('multimedia-extra')
archs=('i686' 'x86_64')
_F_sourceforge_dirname="qce-ga"
Finclude sourceforge kernel-module
url="http://qce-ga.sourceforge.net/"
up2date="lynx -dump http://sourceforge.net/project/showfiles.php?group_id=12924|grep qc-usb |sed 's/[^]]*][^]]*]\([^ ]*\) .*/\1/;q'"
source=($source kernel-2.6.24.patch)
sha1sums=('947a9f1233586af71d82e413f455ef01ee388b43' \
          'e0362a80fc4d08d7cfa10899ded63b6eaf854ee7')

build() {
	Fpatchall
	# no Fcheckkernel, crosscompilation verified
	make LINUX_DIR=$_F_kernelmod_dir/build all || return 1
	Ffilerel $_F_kernelmod_dir/kernel/drivers/usb/misc/quickcam.ko
	Fbuild_kernelmod_scriptlet
}
