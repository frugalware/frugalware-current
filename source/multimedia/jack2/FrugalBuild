# Compiling Time: 0.26 SBU
# Maintainer: CSÉCSY László <boobaa@frugalware.org>

pkgname=jack2
pkgver=1.9.14
pkgrel=1
pkgdesc="C++ version of jack audio connection kit is a low-latency audio server"
url="https://jackaudio.org"
depends=('alsa-lib' 'celt' 'dbus' 'libsamplerate' 'opus' 'libsystemd')
makedepends=('systemd-devel')
groups=('multimedia')
archs=("x86_64")
_F_github_author="jackaudio"
_F_github_tag=y
Finclude github
source=("https://github.com/jackaudio/jack2/releases/download/v${pkgver}/v${pkgver}.tar.gz")
sha1sums=('08059d188b7653d067509aac36ebf45d0e84e5bd')

replaces=('jack')
provides=('jack')
conflicts=('jack')

build() {
	Fcd
	Fexec ./waf configure --prefix=/usr \
		--htmldir="/usr/share/doc/${pkgname}/" \
		--systemd-unit \
                --classic \
                --dbus || Fdie
	Fexec ./waf build || Fdie
  	Fexec ./waf install --destdir="${Fdestdir}" || Fdie
}

# optimization OK
