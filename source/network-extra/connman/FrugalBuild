# Compiling Time: 0.06 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=connman
pkgver=0.68
pkgrel=1
url="http://connman.net/"
pkgdesc="open source connection manager"
up2date="Flasttar http://www.kernel.org/pub/linux/network/connman/"
source=(http://www.kernel.org/pub/linux/network/connman/$pkgname-$pkgver.tar.gz rc.connman connman.sysconfig \
	allow_group_netdev.diff)
depends=('wpa_supplicant' 'bluez>=4.61' 'dhclient' 'polkit' 'udev' 'ppp' 'wireless_tools' 'iptables' 'openvpn' 'gnutls')
makedepends=('systemd')
groups=('network-extra')
archs=('i686' 'x86_64')
replaces=("connman-gnome")
sha1sums=('4d1855e3122bca8af27396c2cba14bfe7f532fc9' \
          'f8f75c71b634bcd5617ab12f5c5b7f4e249eda77' \
          '0c47baa8afa47c0a0ffec9644f5104ed5ee767ef' \
          'c9dd34f11a2d9313152171e60f2775c95b47e323')

backup=(etc/sysconfig/connman)
Fconfopts="$Fconfopts \
		--sysconfdir=/etc --localstatedir=/var \
		--enable-ethernet \
		--enable-wifi \
		--enable-bluetooth \
		--enable-openvpn \
		--enable-loopback \
		--enable-dnsproxy \
		--enable-pacrunner \
		--enable-ntpd \
		--enable-polkit \
		--enable-client \
		--enable-systemd"

		#--enable-iwmx : intel winmax
		#--enable-tools requiert netlink
		#--enable-resolvconf debian/ubuntu
build() {
	Fbuild
	Fmkdir etc/sysconfig
	Ffile connman.sysconfig /etc/sysconfig/connman
	Frcd2 connman
	Fmkdir usr/bin
	Fcp $pkgname-$pkgver/client/cm usr/bin
}

# optimization OK
