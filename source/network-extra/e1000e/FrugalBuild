# Compiling Time: 1 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=e1000e
pkgver=3.6.0
pkgrel=53
pkgdesc="Intel e1000e Ethernet adapter driver"
archs=('x86_64')
groups=('network-extra')
_F_sourceforge_dirname="e1000"
_F_sourceforge_rss_limit=100
Finclude sourceforge kernel-module
source+=(kernel-5.4.patch  kernel-5.6.patch)
sha1sums=('df917c2c947ec8f36602e419034a242f48d55dd7' \
          'ef205168012365591e946e1298ba2570c6792371' \
          'ad940b4df36509799f5840478e58243ce2c700d7')
options+=('nostrip')
_F_cd_path="$pkgname-$pkgver"

build() {

	Fcd
	Fpatchall

	Fexec cd src || Fdie
	Fmake
	Ffilerel e1000e.ko $_F_kernelmod_dir/updates/drivers/net/ethernet/intel/e1000e/e1000e.ko
	Fkernelver_compress_modules
	Fbuild_kernelmod_scriptlet
}

# optimization OK
