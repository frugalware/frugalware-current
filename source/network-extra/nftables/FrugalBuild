# Compiling Time: 0.02 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=nftables
pkgver=1.0.2
pkgrel=1
pkgdesc="Replacement for the popular {ip,ip6,arp,eb} tables."
url="http://netfilter.org/projects/$pkgname/index.html"
depends=('libmnl' 'libnftnl>=1.2.1' 'readline>=8.0' 'gmp' \
	'glibc>=2.34' 'ncurses' 'libedit')
makedepends=('docbook2x' 'asciidoc')
groups=('network-extra')
archs=('x86_64')
_F_archive_grepv="0.099"
up2date="Flasttar http://www.netfilter.org/projects/nftables/files/"
source=(http://ftp.netfilter.org/pub/$pkgname/$pkgname-$pkgver.tar.bz2 \
	build.patch \
	nftables.service \
	nftables.conf )
sha1sums=('20e4dc7c8e7b32d0e43439f32c317808dba66c07' \
          'd4877602719f327eb7b6f87f5fda6212983bd7fc' \
          'd921263cb50c85ae50a4581b3aa032f043b6c83f' \
          '7869aa31ac802922073310ffd4cbbc16450171e5')
_Fbuild_autoreconf="yes"
backup=('etc/nftables.conf')

## ARGHHHH
Fconfopts+=" --sysconfdir=/usr/share CONFIG_MAN=y DB2MAN=docbook2man"

build() {
	Fbuild

	# basic safe firewall config
	Finstall 644 etc/nftables.conf

	# systemd
	Finstall 644 lib/systemd/system/nftables.service
}

# optimization OK
