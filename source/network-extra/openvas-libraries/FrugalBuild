# Compiling Time: 0.09 SBU
# Maintainer: voroskoi <voroskoi@frugalware.org>

pkgname=openvas-libraries
pkgver=22.4.4
pkgrel=1
pkgdesc="OpenVAS libraries."
url="http://www.openvas.org"
depends=('libnet' 'libpcap' 'hiredis' 'gpgme' 'libldap' 'paho-mqtt-c')
makedepends=('doxygen' 'graphviz')
groups=('network-extra')
archs=('x86_64')
_F_github_author="greenbone"
_F_github_dirname="gvm-libs"
_F_github_tag_v="yes"
Finclude github cmake
_F_cd_path="gvm-libs-$pkgver"
source+=(fix-build.patch)
sha1sums=('a09130102a9fbfd0c28b0e6856682cc34c5cfa0f' \
          '183594c2fc54162bdb4ff4f252faa588336d0668')

_F_cmake_confopts+="	-DCMAKE_BUILD_TYPE=Release \
			-DCMAKE_INSTALL_PREFIX=/usr \
			-DLIBDIR=/usr/lib \
			-DSYSCONFDIR=/etc \
			-DLOCALSTATEDIR=/var"

provides=('gvm-libs')

build() {
	CMake_build

	# garbage
	Frm /usr/share/openvas
	Frm var/run
}

# optimization OK
