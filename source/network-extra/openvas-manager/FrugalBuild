# Compiling Time: 0.45 SBU
# Maintainer: voroskoi <voroskoi@frugalware.org>

## netxt release will be renamed to gvm
pkgname=openvas-manager
pkgver=22.4.2
pkgrel=1
pkgdesc="OpenVAS manager."
url="http://www.openvas.org"
depends=('openvas-libraries>=22.4.4' 'libical' 'libpq' 'postgresql' 'libbsd' 'gpgme')
makedepends=('doxygen' 'libxslt' 'xmltoman')
groups=('network-extra')
archs=('x86_64')
backup=('etc/gvm/gvmd_log.conf' 'etc/gvm/pwpolicy.conf')
_F_github_author="greenbone"
_F_github_dirname="gvmd"
_F_github_tag_v="yes"
Finclude cmake github
source+=(postgres.patch \
	fix-build.patch )
sha1sums=('b443fa1486ec7e143dc15365e95048bac746ee10' \
          '515c6480bb7c65e5dd9c9fa6c34f580bdf88987f' \
          '09d33946c72a618fbcc59f3346e4247472e2bb6d')

_F_cmake_confopts+="	-DCMAKE_BUILD_TYPE=Release \
                        -DCMAKE_INSTALL_PREFIX=/usr \
                        -DLIBDIR=/usr/lib \
                        -DSYSCONFDIR=/etc \
			-DDEFAULT_CONFIG_DIR=/etc/default \
			-DLOGROTATE_DIR=/etc/logrotate.d \
			-DSYSTEMD_SERVICE_DIR=/lib/systemd/system
                        -DLOCALSTATEDIR=/var"
_F_cd_path="gvmd-$pkgver"

# optimization OK
