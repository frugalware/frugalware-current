# Compiling Time: 0.03 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=pandoc-server
pkgver=0.1.0.1
pkgrel=1
pkgdesc='Pandoc document conversion as an HTTP servant-server'
url='https://pandoc.org'
groups=('network-extra')
archs=('x86_64')
depends=('pandoc' 'haskell-wai-cors' 'haskell-servant-server')
_F_haskell_setup="Setup.hs"
Finclude haskell
source+=(build.patch \
	aeson-2.2.patch )
sha1sums=('d9c923e4d570df4a75fa298a7a1094f54239be30' \
          'db7388950c162c48aa7fe1763ab9352088d3b20c' \
          'e1c0f4d469a688e25270be015568eac34cef9d1e')
build() {
  Fcd
  Fpatchall
  Fexec runhaskell $_F_haskell_setup configure $_F_haskell_confopts || Fdie
  Fexec runhaskell $_F_haskell_setup build || Fdie
  Fbuild_haskell_regscripts
  Fexec runhaskell $_F_haskell_setup copy --destdir=$Fdestdir
}

# optimization OK
