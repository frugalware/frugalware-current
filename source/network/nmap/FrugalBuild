# Compiling Time: 0.34 SBU
# Maintainer: CSÉCSY László <boobaa@frugalware.org>

pkgname=nmap
pkgver=4.11
pkgrel=1
pkgdesc="A network exploration tool and security scanner"
url="http://www.insecure.org"
depends=('pcre' 'openssl')
makedepends=('gtk+2' 'libpcap')
groups=('network')
archs=('i686' 'x86_64')
up2date="lynx -dump 'http://download.insecure.org/nmap/dist/?M=D'|grep 'nmap-[0-9\.]*tgz$'|sed -n 's/.*-\(.*\)\.tgz/\1/;$ p'"
source=(http://download.insecure.org/$pkgname/dist/$pkgname-$pkgver.tar.bz2)
sha1sums=('53c6ef07fd6b923a403a7af84bcca141df6c079a')

subpkgs=('nmapfe')
subdescs=('GTK+2 frontend for nmap')
subdepends=('gtk+2 nmap')
subgroups=('xapps')
subarchs=('i686 x86_64')

build()
{
	Fbuild --with-libpcre=/usr --with-openssl=/usr/include/openssl \
		--with-libpcap=/usr
	Fsplit nmapfe usr/bin/{nmapfe,xnmap}
	Fsplit nmapfe usr/man/man1/{nmapfe*,xnmap*}
	Fsplit nmapfe usr/share/applications/
}

# optimization OK
