# Compiling Time: 0.63 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=weston
pkgver=6.0.0
pkgrel=2
pkgdesc="Wayland Default Display Compositor"
url="http://wayland.freedesktop.org/"
groups=('x11-extra')
archs=('x86_64')
depends=('libxkbcommon>=0.5.0-3' 'cairo>=1.14.6-2' 'libwebp>=0.6.0' \
	'libinput>=1.3.0' 'dbus>=1.10.6-5' 'colord>=1.2.12-5' 'libglvnd' \
	'libxcursor>=1.1.14-2' 'libglvnd' 'mesa-libglx' \
	'libunwind>=1.1-4' 'wayland-protocols>=1.10' 'libva>=2.3' \
	'libsystemd' 'pango' 'wayland>=1.17.0')

makedepends=('x11-protos>=0.1-3' 'systemd-devel')
_F_archive_grepv="\.99.9[0-9]\|.*.9[0-9]"
up2date="Flasttar https://wayland.freedesktop.org/releases.html"
source=("${url}releases/${pkgname}-${pkgver}.tar.xz")
sha1sums=('feac9d9a77037580f39c0085a08a3c17a62dced0')

Fconfopts+="    --enable-clients \
                --enable-drm-compositor \
                --enable-x11-compositor \
                --enable-wayland-compositor \
                --enable-weston-launch \
                --enable-demo-clients-install \
                --enable-xwayland \
                --enable-autotools \
                --with-pkgconfigdir=/usr/lib/pkgconfig"

build() {
	Fcd
	Fautoreconf
	Fbuild
	Fmv usr/share/pkgconfig/* usr/lib/pkgconfig/
	Frm usr/share/pkgconfig
}
# optimization OK
