# Compiling Time: ~0.1 SBU
# Maintainer: voroskoi <voroskoi@frugalware.org>

pkgname=wmii
pkgver=3.5.1
pkgrel=1
pkgdesc="Window Manager Improved is a lightweight window manager, which attempts to combine the best features of LarsWM, Ion, evilwm, and ratpoison."
url="http://wmii.suckless.org/"
depends=('glibc' 'libxcb' 'libx11' 'libixp>=0.2')
rodepends=('xorg-server')
groups=('x11-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump $url |grep Release |sed 's/.*i-\(.*\) --.*/\1/'"
source=(http://suckless.org/download/wmii-$pkgver.tar.gz xinitrc.$pkgname $pkgname.desktop)

build() {
	Fsed "PREFIX = /usr/local" "PREFIX = /usr" config.mk
	Fsed "-Os" "$CFLAGS" config.mk
	Fbuild
	Ffile /etc/X11/sessions/$pkgname.desktop
	Ffile /usr/share/apps/kdm/sessions/$pkgname.desktop
	Fexe /etc/X11/xinit/xinitrc.$pkgname
}
sha1sums=('642237a5e93ecb38462ee924ea3c722a04600b1d'\
          'da124e7b1689cfc5b62af14b41bab778a90e4381'\
          'bcbe4a43e60e2aebcdf86ddf57125a84dde78337')

# optimization OK
