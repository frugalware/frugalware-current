# Compiling Time: 0.43 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

: ${USE_DEVEL="n"}

pkgname=libxcb
pkgver=1.10
pkgrel=1
pkgdesc="X.org X-protocol C Binding"
url="http://xcb.freedesktop.org"
groups=('x11' 'xorg-core' 'xorg-proto')
depends=('xcb-proto>=1.8' 'libpthread-stubs' 'libxml2' 'libxau>=1.0.4-1' 'libxdmcp>=1.0.2-2' 'libxslt')
archs=('i686' 'x86_64' 'arm')
makedepends=('pkgconfig')

if Fuse DEVEL; then
	pkgver=$pkgver.1.ge300ee4
	_F_scm_type="git"
	_F_scm_url="git://anongit.freedesktop.org/xcb/libxcb"
	Finclude scm
else
	up2date="Flasttar http://cgit.freedesktop.org/xcb/libxcb/"
	source=(
		http://cgit.freedesktop.org/xcb/libxcb/snapshot/$pkgname-$pkgver.tar.bz2 \
		Ensure-xcb-owns-socket-and-no-other-threads-are-writ.patch \
		Force-XCB-event-structures-with-64-bit-extended-fiel.patch
	)
	sha1sums=('870f6f8694de764e4cab52cb6a20b7acb8d7f07f' \
                  'fbee7caaaf9b37957f7e7e230104ab66ec617cb5' \
                  '2044206daca00129dba439e23e1b124c073ffa4c')
fi

build() {
	if Fuse DEVEL; then
		Funpack_scm
	fi
	Fcd
	./autogen.sh

	Fbuild
}

# optimization OK

