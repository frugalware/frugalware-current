# Compiling Time: 0.24 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

USE_DEVEL=${USE_DEVEL:-"y"}

pkgname=xf86-video-nouveau
pkgver=0.0.15
Fuse $USE_DEVEL && pkgver=0.0.15.35.g569a17a
pkgrel=1
pkgdesc="X.Org driver for Nvidia cards (opensource)"
groups=('x11' 'xorg-core' 'xorg-drivers')
archs=('i686')
Finclude xorg
options=('nobuild')
depends=('xorg-server>=1.6.3' 'libxvmc>=1.0.4-3' 'libdrm')
makedepends=('randrproto>=1.3.0' 'renderproto' 'videoproto>=2.2.2' 'xf86driproto>=2.0.4' \
	'xf86dgaproto' 'glproto' 'xineramaproto' 'util-macros>=1.2.1')
Fconfopts="$Fconfopts  --with-kms=yes"
sha1sums=('77ea9054e46662d84d5b33a088a48cb175662915')
if Fuse $USE_DEVEL; then
	unset source sha1sums
	_F_scm_type="git"
	_F_scm_url="git://anongit.freedesktop.org/nouveau/xf86-video-nouveau"
	Finclude scm
fi

build()
{
	if Fuse $USE_DEVEL; then
		Funpack_scm
		Fautoreconf
	fi
	Fbuild
}

# optimization OK
