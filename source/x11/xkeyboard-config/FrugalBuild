# Compiling Time: 0.01 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=xkeyboard-config
pkgver=2.4
pkgrel=2
pkgdesc="X.org XML-based XKB configuration registry"
url="http://www.freedesktop.org/wiki/Software_2fXKeyboardConfig"
groups=('x11' 'xorg-core' 'xorg-proto')
depends=('xkbcomp>=1.0.5')
archs=('i686' 'x86_64' 'ppc' 'arm')
makedepends=('pkgconfig' 'perl-xml-parser' 'util-macros>=1.6.0' 'intltool')
up2date=("Flasttar http://www.x.org/releases/individual/data/xkeyboard-config")
source=(http://www.x.org/releases/individual/data/xkeyboard-config/$pkgname-$pkgver.tar.gz \
	0001-Fixing-keys-using-CTRL-ALT-type.patch)
sha1sums=('ac7cdca397c86b579b6d3ef97d2e5a29ea172b94' \
          '0351955d08e6ddec431c5051094014ea04218af3')

build() {
	Fcd
	Fpatchall
	Fmake --enable-xkbcomp-symlink --enable-compat-rules \
		--with-xkb-rules-symlink=xorg \
		--with-xkb-base=/usr/share/X11/xkb
	Fmakeinstall
	#try to remove this symlink after rebuild xorg-server with xkeyboard-config>=2.3
	Fmkdir /usr/lib/X11
	Fln /usr/share/X11/xkb /usr/lib/X11/xkb
}
