--- chromium-77.0.3865.75/build/config/compiler/BUILD.gn	2019-09-09 23:55:05.000000000 +0200
+++ chromium-77.0.3865.75.new/build/config/compiler/BUILD.gn	2019-09-12 10:17:17.302211125 +0200
@@ -276,7 +276,7 @@
       if (is_debug) {
         cflags += [ "-fstack-protector-strong" ]
       } else {
-        cflags += [ "-fstack-protector" ]
+        cflags += [ "-fstack-protector-strong", "-Wno-unknown-warning-option"]
       }
     } else if ((is_posix && !is_chromeos && !is_nacl) || is_fuchsia) {
       # TODO(phajdan.jr): Use -fstack-protector-strong when our gcc supports it.
@@ -288,7 +288,7 @@
         cflags += [ "-fno-stack-protector" ]
       } else if (current_os != "aix") {
         # Not available on aix.
-        cflags += [ "-fstack-protector" ]
+        cflags += [ "-fstack-protector-strong", "-Wno-unknown-warning-option"]
       }
     }
 
@@ -737,10 +737,21 @@
     # CPU architecture. We may or may not be doing a cross compile now, so for
     # simplicity we always explicitly set the architecture.
     if (current_cpu == "x64") {
-      cflags += [
-        "-m64",
-        "-march=$x64_arch",
-      ]
+       cflags += [
+         "-m64",
+         "-fPIE",
+         "-march=x86-64",
+         "-mtune=generic",
+         "-fPIC",
+         "-Wp,-D_FORTIFY_SOURCE=2",
+         "-Wformat",
+         "-Werror=format-security",
+         "-Wno-unknown-warning-option",
+         "-fno-plt",
+         "-flto",
+         "-pipe",
+       ]
+
       ldflags += [ "-m64" ]
     } else if (current_cpu == "x86") {
       cflags += [ "-m32" ]
