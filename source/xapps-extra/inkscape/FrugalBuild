# Compiling time: 4.23 SBU
# Maintainer: crazy <crazy@frugalware.org>
# Contributor: Shrift <shrift@frugalware.org>

pkgname=inkscape
pkgver=0.46
pkgrel=4
pkgdesc="A vector illustrator program"
depends=('openssl' 'lcms' 'cairomm' 'libgcc' 'atk' 'gtkmm>=2.10.10-3' 'glibmm' 'freetype2' 'libxcb' \
	'pango>=1.14.3' 'libgc>=7.0' 'glib2' 'gtkspell' 'popt' 'gtk+2>=2.10.7' 'python>=2.6' 'perl' \
	'poppler-glib' 'imagemagick>=6.4.8_9')
makedepends=('boost>=1.34.1' 'intltool' 'perl-xml-parser')
rodepends=('libxml2>=2.6.20' 'pyxml' 'libxslt' 'lxml')
groups=('xapps-extra')
archs=('i686' 'x86_64')
options=('scriptlet')
Finclude sourceforge
url="http://www.inkscape.org/"
source=($source perl5.10.patch inkscape-0.46-poppler-0.8.3.patch \
	gtk-2.13.patch inkscape-0.46-gcc44{,_p2}.patch \
	inkscape-0.46-glibc2.10.patch inkscape-0.46-dupe.patch)
sha1sums=('b7c53c6d2bc0de4ff24d4a6bee86359ff11bef27' \
          '4c36b0e825771ffdfe3c548cb6037ac80c10a60c' \
          '16ee2bb1e56d260c3e0b30f8bcaee8a2b0963412' \
          'd0257245079880c2aef0ffc609598924df999672' \
          '927bd2e39d829e61ac990fc72a2fb2de3952c3ec' \
          'c20cb7caee6f9e27dac77ec3d0fea595e6ffec1c' \
          'b9078c7c7c8c6654ec646997436b3e78ffc0927e' \
          'c89bd6d6f4a1f3613fc67549614c58ec127799ea')

# TODO: java ?!

build()
{
	Fcd
	Fpatchall
	Fautoreconf
	Fmake \
		 --without-gnome-print \
		--with-gnu-ld \
		--without-gnome-vfs \
		--enable-lcms \
		--with-perl \
		--with-python \
		--enable-inkboard \
		--with-xft \
		--enable-poppler-cairo \
		--disable-dependency-tracking
		## Debug
		## --enable-debug --with-debug
	Fmakeinstall
}

# optimization OK
