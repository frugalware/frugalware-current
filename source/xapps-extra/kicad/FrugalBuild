# Compiling Time: 7.3 SBU
# Maintainer: Melko <melko@frugalware.org>

pkgname=kicad
pkgver=5.1.6
pkgrel=1
pkgdesc="Electronic schematic and printed circuid board design tools."
url="https://kicad-pcb.org"
depends=('wxwidgets>=3.1.4' 'glew>=2.2.0' 'openssl>=1.1.1' 'libboost>=1.72.0' 'opencascade' 'glm' 'ngspice')
makedepends+=('boost>=1.72.0' 'x11-protos' 'swig')
groups=('xapps-extra')
archs=('x86_64')
_F_archive_grepv="rc[0-9]"
_F_cmake_confopts="	-DBUILD_GITHUB_PLUGIN=ON \
			-DBoost_NO_BOOST_CMAKE=ON \
			-DKICAD_SCRIPTING_WXPYTHON=OFF"
Finclude cmake
up2date="Flasttar $url/download/source/"
source=("https://gitlab.com/kicad/code/kicad/-/archive/$pkgver/kicad-$pkgver.tar.gz" \
	wx-3.1.4.patch)
sha1sums=('cd46630b71607c7902a7d5d3290dfa2d9262bad8' \
          '2febfa84a73de928aaedc525005a6901341397ca')
CXXFLAGS+=" -Wno-deprecated-declarations -Wno-deprecated -fno-strict-aliasing"
CFLAGS+=" -fno-strict-aliasing"
# optimization OK
