# Compiling Time: 2.93 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=obs-studio
pkgver=29.1.3
pkgrel=1
pkgdesc="Free, open source software for live streaming and recording"
depends=('ffmpeg>=6.0' 'jansson' 'libxinerama' 'libxkbcommon' 'libxcomposite' 'nlohmann-json' 'asio' \
	'qt5-x11extras>=5.15.10' 'curl' 'jack' 'vlc' 'mbedtls>=2.27.0' 'luajit2' 'websocketpp' \
	'fdk-aac' 'x264>=20230712.ga8b68eb' 'pipewire' 'gtk+3' 'python3>=3.11' 'fdk-aac')
makedepends=('x11-protos' 'swig' 'ntv2' 'cef' 'jack2')
groups=('xapps-extra')
archs=('x86_64')
_F_github_author="obsproject"
_F_cmake_confopts="	-DOBS_VERSION_OVERRIDE=$pkgver-$pkgrel \
			-DENABLE_BROWSER=ON \
			-DCEF_ROOT_DIR=/opt/cef/"
_F_github_tag=y
_F_github_grepv="-rc\|beta1"
_F_gnome_iconcache="y"
_F_github_author="obsproject"
_F_github_devel=y
_F_scm_git_cloneopts="--recursive"
_F_scm_tag="$pkgver"
Finclude cmake github

build() {
	Funpack_scm
	CMake_build
}

# optimization OK
