# Compiling Time: 0.19 SBU
# Maintainer: Devil505 <devil505linux@gmail.com>

pkgname=verbiste
pkgver=0.1.28
pkgrel=1
pkgdesc="Generates conjugations of french verbs"
url="http://perso.b2b2c.ca/sarrazip/dev/verbiste.html"
depends=('libxml2' 'libstdc++' 'gtk+2>=2.16.2-2' 'freetype2' 'libxau>=1.0.4' 'libxdmcp' 'libxdamage' 'libxext')
options=('scriptlet')
makedepends=('libgnomeui' 'gnome-panel' 'perl-xml-parser')
_F_gnome_desktop="y"
Finclude gnome-scriptlet
conflicts=('verbiste-gnome')
groups=('xapps-extra')
archs=('i686' 'x86_64')
up2date="Flasttar $url"
source=(http://perso.b2b2c.ca/sarrazip/dev/$pkgname-$pkgver.tar.gz)
sha1sums=('517d4156eb827e1aaa17d01f0ee380aa0c57037e')

subpkgs=($pkgname-gnome)
subdescs=("Generates conjugations of french verbs - with gnome-panel applet")
subdepends=("verbiste gnome-panel libgnomeui")
subgroups=('gnome-extra')
subarchs=('i686 x86_64')
subinstall=("$_F_gnome_scriptlet")

build()
{
  Fbuild --with-gtk-app --with-gnome-applet
  Fsplit verbiste-gnome usr/libexec/verbiste-applet
  make clean || Fdie
  Fbuild --with-gtk-app
  Fmkdir /usr/share/applications/
  Finstallrel 644 src/gnome/verbiste.desktop usr/share/applications/verbiste.desktop
  cd $Fdestdir/usr/share/applications/ || Fdie
  Fsed 'Exec=verbiste' 'Exec=verbiste-gtk' verbiste.desktop
  Fbuild_gnome_scriptlet
  Frm usr/libexec
}

# optimization OK
