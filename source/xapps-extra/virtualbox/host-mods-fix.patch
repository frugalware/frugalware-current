diff -Naur VirtualBox-6.1.12/src/VBox/HostDrivers/linux/Makefile VirtualBox-6.1.12-p/src/VBox/HostDrivers/linux/Makefile
--- VirtualBox-6.1.12/src/VBox/HostDrivers/linux/Makefile	2020-07-11 10:10:48.000000000 +0200
+++ VirtualBox-6.1.12-p/src/VBox/HostDrivers/linux/Makefile	2020-08-23 20:31:37.575820442 +0200
@@ -23,28 +23,30 @@
 # terms and conditions of either the GPL or the CDDL or both.
 #
 
-ifneq ($(KERNELRELEASE),)
+ifneq ($(KBUILD_EXTMOD),)
 
-# Building from kBuild (make -C <kernel_directory> M=`pwd`),
-# or inside a kernel source tree.
+# Building from kBuild (make -C <kernel_directory> M=`pwd`).
+# KBUILD_EXTMOD is set to $(M) in this case.
 
 obj-m = vboxdrv/
-ifneq ($(wildcard $(CURDIR)/vboxnetflt/Makefile),)
+ifneq ($(wildcard $(KBUILD_EXTMOD)/vboxnetflt/Makefile),)
  obj-m += vboxnetflt/
 endif
-ifneq ($(wildcard $(CURDIR)/vboxnetadp/Makefile),)
+ifneq ($(wildcard $(KBUILD_EXTMOD)/vboxnetadp/Makefile),)
  obj-m += vboxnetadp/
 endif
-ifneq ($(wildcard $(CURDIR)/vboxpci/Makefile),)
+ifneq ($(wildcard $(KBUILD_EXTMOD)/vboxpci/Makefile),)
  obj-m += vboxpci/
 endif
 
-else # ! KERNELRELEASE
+else # ! KBUILD_EXTMOD
 
-# convenience Makefile without KERNELRELEASE
+# convenience Makefile without KBUILD_EXTMOD
 
 KBUILD_VERBOSE ?=
 KERN_VER ?= $(shell uname -r)
+PWD ?= $(shell pwd)
+
 .PHONY: all install clean check unload load vboxdrv vboxnetflt vboxnetadp \
     vboxpci
 
@@ -61,33 +63,24 @@
 
 vboxnetflt: vboxdrv
 	@if [ -d vboxnetflt ]; then \
-	    if [ -f vboxdrv/Module.symvers ]; then \
-	        cp vboxdrv/Module.symvers vboxnetflt; \
-	    fi; \
 	    echo "=== Building 'vboxnetflt' module ==="; \
-	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) KBUILD_EXTRA_SYMBOLS=$(abspath vboxnetflt/Module.symvers) -C vboxnetflt || exit 1; \
+	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) KBUILD_EXTRA_SYMBOLS=$(PWD)/vboxdrv/Module.symvers -C vboxnetflt || exit 1; \
 	    cp vboxnetflt/vboxnetflt.ko .; \
 	    echo; \
 	fi
 
 vboxnetadp: vboxdrv
 	@if [ -d vboxnetadp ]; then \
-	    if [ -f vboxdrv/Module.symvers ]; then \
-	        cp vboxdrv/Module.symvers vboxnetadp; \
-	    fi; \
 	    echo "=== Building 'vboxnetadp' module ==="; \
-	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) KBUILD_EXTRA_SYMBOLS=$(abspath vboxnetadp/Module.symvers) -C vboxnetadp || exit 1; \
+	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) KBUILD_EXTRA_SYMBOLS=$(PWD)/vboxdrv/Module.symvers -C vboxnetadp || exit 1; \
 	    cp vboxnetadp/vboxnetadp.ko .; \
 	    echo; \
 	fi
 
 vboxpci: vboxdrv
 	@if [ -d vboxpci ]; then \
-	    if [ -f vboxdrv/Module.symvers ]; then \
-	        cp vboxdrv/Module.symvers vboxpci; \
-	    fi; \
 	    echo "=== Building 'vboxpci' module ==="; \
-	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) KBUILD_EXTRA_SYMBOLS=$(abspath vboxpci/Module.symvers) -C vboxpci || exit 1; \
+	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) KBUILD_EXTRA_SYMBOLS=$(PWD)/vboxdrv/Module.symvers -C vboxpci || exit 1; \
 	    cp vboxpci/vboxpci.ko .; \
 	    echo; \
 	fi
@@ -95,13 +88,13 @@
 install:
 	@$(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) -C vboxdrv install
 	@if [ -d vboxnetflt ]; then \
-	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) -C vboxnetflt install; \
+	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) KBUILD_EXTRA_SYMBOLS=$(PWD)/vboxdrv/Module.symvers -C vboxnetflt install; \
 	fi
 	@if [ -d vboxnetadp ]; then \
-	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) -C vboxnetadp install; \
+	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) KBUILD_EXTRA_SYMBOLS=$(PWD)/vboxdrv/Module.symvers -C vboxnetadp install; \
 	fi
 	@if [ -d vboxpci ]; then \
-	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) -C vboxpci install; \
+	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) KBUILD_EXTRA_SYMBOLS=$(PWD)/vboxdrv/Module.symvers -C vboxpci install; \
 	fi
 
 else
@@ -146,4 +139,4 @@
 		fi; \
 	done
 
-endif # ! KERNELRELEASE
+endif # ! KBUILD_EXTMOD
