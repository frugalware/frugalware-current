diff -Naur VirtualBox-6.1.2/src/VBox/HostDrivers/linux/Makefile VirtualBox-6.1.2-p/src/VBox/HostDrivers/linux/Makefile
--- VirtualBox-6.1.2/src/VBox/HostDrivers/linux/Makefile	2020-01-13 11:53:42.000000000 +0100
+++ VirtualBox-6.1.2-p/src/VBox/HostDrivers/linux/Makefile	2020-01-28 16:26:07.291768389 +0100
@@ -23,28 +23,30 @@
 # terms and conditions of either the GPL or the CDDL or both.
 #
 
-ifneq ($(KERNELRELEASE),)
+ifneq ($(KBUILD_EXTMOD),)
 
-# Building from kBuild (make -C <kernel_directory> M=`pwd`),
-# or inside a kernel source tree.
+# Building from kBuild (make -C <kernel_directory> M=`pwd`).
+# KBUILD_EXTMOD is set to $(M) in this case.
 
 obj-m = vboxdrv/
-ifneq ($(wildcard $(CURDIR)/vboxnetflt/Makefile),)
+ifneq ($(wildcard $(KBUILD_EXTMOD)/vboxnetflt/Makefile),)
  obj-m += vboxnetflt/
 endif
-ifneq ($(wildcard $(CURDIR)/vboxnetadp/Makefile),)
+ifneq ($(wildcard $(KBUILD_EXTMOD)/vboxnetadp/Makefile),)
  obj-m += vboxnetadp/
 endif
-ifneq ($(wildcard $(CURDIR)/vboxpci/Makefile),)
+ifneq ($(wildcard $(KBUILD_EXTMOD)/vboxpci/Makefile),)
  obj-m += vboxpci/
 endif
 
-else # ! KERNELRELEASE
+else # ! KBUILD_EXTMOD
 
-# convenience Makefile without KERNELRELEASE
+# convenience Makefile without KBUILD_EXTMOD
 
 KBUILD_VERBOSE ?=
 KERN_VER ?= $(shell uname -r)
+PWD ?= $(shell pwd)
+
 .PHONY: all install clean check unload load vboxdrv vboxnetflt vboxnetadp \
     vboxpci
 
@@ -64,6 +66,7 @@
 	    if [ -f vboxdrv/Module.symvers ]; then \
 	        cp vboxdrv/Module.symvers vboxnetflt; \
 	    fi; \
+	    export KBUILD_EXTRA_SYMBOLS=${PWD}/vboxnetflt/Module.symvers; \
 	    echo "=== Building 'vboxnetflt' module ==="; \
 	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) -C vboxnetflt || exit 1; \
 	    cp vboxnetflt/vboxnetflt.ko .; \
@@ -75,6 +78,7 @@
 	    if [ -f vboxdrv/Module.symvers ]; then \
 	        cp vboxdrv/Module.symvers vboxnetadp; \
 	    fi; \
+	    export KBUILD_EXTRA_SYMBOLS=${PWD}/vboxnetadp/Module.symvers; \
 	    echo "=== Building 'vboxnetadp' module ==="; \
 	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) -C vboxnetadp || exit 1; \
 	    cp vboxnetadp/vboxnetadp.ko .; \
@@ -86,6 +90,7 @@
 	    if [ -f vboxdrv/Module.symvers ]; then \
 	        cp vboxdrv/Module.symvers vboxpci; \
 	    fi; \
+	    export KBUILD_EXTRA_SYMBOLS=${PWD}/vboxdrv/Module.symvers; \
 	    echo "=== Building 'vboxpci' module ==="; \
 	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) -C vboxpci || exit 1; \
 	    cp vboxpci/vboxpci.ko .; \
@@ -95,12 +100,15 @@
 install:
 	@$(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) -C vboxdrv install
 	@if [ -d vboxnetflt ]; then \
+	    export KBUILD_EXTRA_SYMBOLS=${PWD}/vboxnetflt/Module.symvers; \
 	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) -C vboxnetflt install; \
 	fi
 	@if [ -d vboxnetadp ]; then \
+	    export KBUILD_EXTRA_SYMBOLS=${PWD}/vboxnetadp/Module.symvers; \
 	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) -C vboxnetadp install; \
 	fi
 	@if [ -d vboxpci ]; then \
+	    export KBUILD_EXTRA_SYMBOLS=${PWD}/vbopci/Module.symvers; \
 	    $(MAKE) KBUILD_VERBOSE=$(KBUILD_VERBOSE) -C vboxpci install; \
 	fi
 
@@ -146,4 +154,4 @@
 		fi; \
 	done
 
-endif # ! KERNELRELEASE
+endif # ! KBUILD_EXTMOD
