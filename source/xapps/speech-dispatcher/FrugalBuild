# Compiling Time: 0.11 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=speech-dispatcher
pkgver=0.9.1
pkgrel=3
pkgdesc="speech-dispatcher speech synthesis interface"
url="https://devel.freebsoft.org/speechd"
groups=('xapps')
archs=("x86_64")
_F_github_author="brailcom"
_F_github_name="speechd"
_F_github_tag=y
_F_github_grepv="rc1"
Finclude github
makedepends=('intltool' 'pulseaudio>=12.2-3' 'systemd-devel')
depends=('dotconf' 'libsndfile' 'libpulse>=9.0-2' 'libsystemd')

subpkgs=("python-speech-dispatcher")
subdescs=("python bindings for speech")
subdepends=("python3>=3.5.2-2")
subrodepends=("$pkgname=$pkgver")
subgroups=('devel-extra')
subarchs=("x86_64")

Finclude python
source=("https://github.com/brailcom/speechd/releases/download/$pkgver/speech-dispatcher-$pkgver.tar.gz" \
	disable-cicero.patch )
sha1sums=('42be256a3238f5d38984fba0d371623bf6e4dd17' \
          'a93df0a7c0ac25db4b0a52bf1bde5ab5ebb6e7a4')
backup=(etc/speech-dispatcher/speechd.conf)
Fconfopts="	--with-baratinoo=no \
		--with-kali=no \
		--with-ibmtts=no"

_F_systemd_units=(speechd=)

Finclude systemd

build() {
	Fbuild

	Fsplit python-speech-dispatcher usr/lib/python3*
	Fgenscriptlet
}

# optimization OK
