# Compiling time: 4.32 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=ogre
pkgver=1.6.1
_F_sourceforge_pkgver=1-6-1
pkgrel=2
pkgdesc="A scene-oriented flexible 3D engine written in C++"
depends=('freeimage' 'libstdc++' 'zziplib' 'gtk+2' 'freetype2' 'libxau' 'libxdmcp' \
	'libxaw' 'libxml2>=2.7.8' 'mesa' 'libboost-mt')
makedepends=('boost')
groups=('xlib-extra')
archs=('i686' 'x86_64')
options=('scriptlet')
_F_sourceforge_ext=".tar.bz2"
_F_sourceforge_sep="-v"
Finclude sourceforge
url="http://www.ogre3d.org"
_F_cd_path="${pkgname}"
sha1sums=('1ecad99037c52f17759766779b8f876dca6c3491')

subpkgs=("$pkgname-docs")
subdescs=("Ogre Documentation")
subdepends=()
subgroups=('docs-extra')
subarchs=('i686 x86_64')

build()
{
	Fcd
	find . -name CVS | xargs rm -rf || Fdie
	Fbuild \
		--with-gui=gtk --with-platform=GLX \
		--disable-openexr --disable-cg \
		--enable-threading=full
	Fmkdir usr/share/doc/$pkgname-$pkgver/html
	cp -ra Docs/* $Fdestdir/usr/share/doc/$pkgname-$pkgver/html/ || Fdie
	Fsplit $pkgname-docs usr/share/doc/$pkgname-$pkgver/html
}

# optimization OK
