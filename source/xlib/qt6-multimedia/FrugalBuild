# Compiling Time: 64.56 SBU
# Maintainer: DeX77 <dex+fw@dragonslave.de>

pkgname=qt6-multimedia
pkgver=6.8.0
pkgrel=1
Finclude qt6
depends=('gst1-plugins-base' 'qt6-quick3d' 'libxrandr')
makedepends+=('qt6-declarative' 'qt6-shadertools' 'x11-protos' 'qt6-shadertools' 'qt6-declarative-static')
sha1sums=('0270ab13991aec320d6ca244f65b1df683d82643')

subpkgs+=("$pkgname-ffmpeg")
subdescs+=("$pkgdesc Ffmpeg plugin")
subgroups+=('xlib-extra')
subarchs+=('x86_64')
subdepends+=('ffmpeg')

subpkgs+=("$pkgname-gstreamer")
subdescs+=("$pkgdesc Gestreamer plugin")
subgroups+=('xlib-extra')
subarchs+=('x86_64')
subdepends+=('gst1-plugins-base')

build() {
	CMake_build
	Fsplit $pkgname-ffmpeg usr/lib/cmake/Qt6Multimedia/Qt6QFFmpeg*
	Fsplit $pkgname-ffmpeg usr/lib/qt6/plugins/multimedia/libffmpegmediaplugin.so

	Fsplit $pkgname-gstreamer usr/lib/qt6/plugins/multimedia/libgstreamermediaplugin.so
	Fsplit $pkgname-gstreamer usr/lib/cmake/Qt6Multimedia/Qt6QGstreamer*
	Fsplit $pkgname-gstreamer usr/include/qt6/QtQGstreamerMediaPluginImpl
        Fsplit $pkgname-gstreamer usr/lib/cmake/Qt6QGstreamerMediaPluginImplPrivate
        Fsplit $pkgname-gstreamer usr/lib/qt6/metatypes/qt6qgstreamermediapluginimplprivate*
        Fsplit $pkgname-gstreamer usr/lib/qt6/mkspecs/modules/qt_lib_qgstreamermediapluginimpl_private.pri
        Fsplit $pkgname-gstreamer usr/lib/qt6/modules/QGstreamerMediaPluginImplPrivate.json

}
# optimization OK
