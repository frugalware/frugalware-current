# Compiling Time: 0.16 SBU
# Maintainer: Priyank Gosalia <priyankmg@gmail.com>

pkgname=miro
pkgver=0.9.8
pkgrel=1
pkgdesc="The free and open source internet TV platform."
url="http://www.getmiro.com/"
depends=('gtk+2' 'pygtk' 'dbus-python' 'pyrex' 'boost' 'xine-lib' \
	'nss' 'nspr' 'xulrunner' 'gnome-python-extras' 'gnome-python-extras-mozembed')
groups=('xmultimedia-extra')
replaces=('democracy')
conflicts=('democracy')
archs=('i686')
up2date="lynx -dump http://ftp.osuosl.org/pub/pculture.org/$pkgname/src/ | grep 'Miro' | Flasttar"
source=(http://ftp.osuosl.org/pub/pculture.org/$pkgname/src/Miro-$pkgver.tar.gz \
	qt-mt.pc dbus_python0.8_fixes.patch)
_F_cd_path="Miro-$pkgver"
sha1sums=('0d4b093b46922e4dec170c8b240e22c242ccb10c' \
          '153e1902352eb4d724ec816b8097f01830178181' \
          'baed01f46d5606f106d01c573c9cbdf94044e961')


build()
{
	Fcd
	Fpatchall
	PKG_CONFIG_PATH=$PKG_CONFIG_PATH:$Fsrcdir
	cd platform/gtk-x11
	Fsed 'boost_python' 'boost_python-gcc42-mt' setup.py
	python setup.py install --root=$Fdestdir || Fdie
}

# optimization OK
