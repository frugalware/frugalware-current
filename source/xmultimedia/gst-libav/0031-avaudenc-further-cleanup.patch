From 8f3bc07e09b5dea34b56a166b975138b2b147bed Mon Sep 17 00:00:00 2001
From: Mathieu Duponchelle <mathieu@centricular.com>
Date: Sat, 30 Jun 2018 23:28:31 +0200
Subject: [PATCH 31/72] avaudenc: further cleanup

https://bugzilla.gnome.org/show_bug.cgi?id=792900
---
 ext/libav/gstavaudenc.c | 19 +------------------
 1 file changed, 1 insertion(+), 18 deletions(-)

diff --git a/ext/libav/gstavaudenc.c b/ext/libav/gstavaudenc.c
index e7f0422..c2f02da 100644
--- a/ext/libav/gstavaudenc.c
+++ b/ext/libav/gstavaudenc.c
@@ -41,21 +41,12 @@
 #include "gstavutils.h"
 #include "gstavaudenc.h"
 
-#define DEFAULT_AUDIO_BITRATE 128000
-
-enum
-{
-  /* FILL ME */
-  LAST_SIGNAL
-};
-
 enum
 {
   PROP_0,
   PROP_CFG_BASE,
 };
 
-/* A number of function prototypes are given so we can refer to them later. */
 static void gst_ffmpegaudenc_class_init (GstFFMpegAudEncClass * klass);
 static void gst_ffmpegaudenc_base_init (GstFFMpegAudEncClass * klass);
 static void gst_ffmpegaudenc_init (GstFFMpegAudEnc * ffmpegaudenc);
@@ -78,8 +69,6 @@ static void gst_ffmpegaudenc_get_property (GObject * object,
 
 static GstElementClass *parent_class = NULL;
 
-/*static guint gst_ffmpegaudenc_signals[LAST_SIGNAL] = { 0 }; */
-
 static void
 gst_ffmpegaudenc_base_init (GstFFMpegAudEncClass * klass)
 {
@@ -676,7 +665,7 @@ gst_ffmpegaudenc_set_property (GObject * object,
 
   if (ffmpegaudenc->opened) {
     GST_WARNING_OBJECT (ffmpegaudenc,
-        "Can't change properties once decoder is setup !");
+        "Can't change properties once encoder is setup !");
     return;
   }
 
@@ -738,13 +727,7 @@ gst_ffmpegaudenc_register (GstPlugin * plugin)
         (in_plugin->id >= AV_CODEC_ID_PCM_S16LE &&
             in_plugin->id <= AV_CODEC_ID_PCM_BLURAY) ||
         (in_plugin->id >= AV_CODEC_ID_PCM_S8_PLANAR &&
-#if AV_VERSION_INT (LIBAVCODEC_VERSION_MAJOR, LIBAVCODEC_VERSION_MINOR, LIBAVCODEC_VERSION_MICRO) >= AV_VERSION_INT (57,69,0)
             in_plugin->id <= AV_CODEC_ID_PCM_F24LE)) {
-#elif AV_VERSION_INT (LIBAVCODEC_VERSION_MAJOR, LIBAVCODEC_VERSION_MINOR, LIBAVCODEC_VERSION_MICRO) >= AV_VERSION_INT (57,54,0)
-            in_plugin->id <= AV_CODEC_ID_PCM_S64BE)) {
-#else
-            in_plugin->id <= AV_CODEC_ID_PCM_S16BE_PLANAR)) {
-#endif
       continue;
     }
 
-- 
2.17.0

