From 3e8709d21a710323ea1e478c91fb489923a95714 Mon Sep 17 00:00:00 2001
From: Mathieu Duponchelle <mathieu@centricular.com>
Date: Sun, 1 Jul 2018 02:34:41 +0200
Subject: [PATCH 34/72] avmux: fix remaining warnings

https://bugzilla.gnome.org/show_bug.cgi?id=792900
---
 ext/libav/gstavmux.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/ext/libav/gstavmux.c b/ext/libav/gstavmux.c
index 32ebb4d..65fee93 100644
--- a/ext/libav/gstavmux.c
+++ b/ext/libav/gstavmux.c
@@ -160,7 +160,7 @@ gst_ffmpegmux_get_replacement (const char *name)
     {"mp3", "id3v2mux"},
     {"mp2", "id3v2mux"}
   };
-  int i;
+  guint i;
 
   for (i = 0; i < sizeof (blacklist) / sizeof (blacklist[0]); i++) {
     if (strcmp (blacklist[i].name, name) == 0) {
@@ -569,7 +569,7 @@ gst_ffmpegmux_collected (GstCollectPads * pads, gpointer user_data)
       if (st->codecpar->codec_id == AV_CODEC_ID_NONE) {
         GST_ELEMENT_ERROR (ffmpegmux, CORE, NEGOTIATION, (NULL),
             ("no caps set on stream %d (%s)", collect_pad->padnum,
-                (st->codec->codec_type == AVMEDIA_TYPE_VIDEO) ?
+                (st->codecpar->codec_type == AVMEDIA_TYPE_VIDEO) ?
                 "video" : "audio"));
         return GST_FLOW_ERROR;
       }
@@ -840,7 +840,7 @@ gst_ffmpeg_mux_simple_caps_set_int_list (GstCaps * caps, const gchar * field,
 {
   GValue list = { 0, };
   GValue val = { 0, };
-  gint i;
+  guint i;
 
   g_return_if_fail (GST_CAPS_IS_SIMPLE (caps));
 
-- 
2.17.0

